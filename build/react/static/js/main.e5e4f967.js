/*! For license information please see main.e5e4f967.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,l=i(e),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))n.call(o,c)&&(l[c]=o[c]);if(t){s=t(o);for(var h=0;h<s.length;h++)r.call(o,s[h])&&(l[s[h]]=o[s[h]])}}return l}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},y={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var _=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(y,e)||!d.call(p,e)&&(f.test(e)?y[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(_,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(_,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(_,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,C=60106,w=60107,E=60108,S=60114,M=60109,O=60110,D=60112,z=60113,j=60120,T=60115,P=60116,R=60121,B=60128,N=60129,L=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var I=Symbol.for;x=I("react.element"),C=I("react.portal"),w=I("react.fragment"),E=I("react.strict_mode"),S=I("react.profiler"),M=I("react.provider"),O=I("react.context"),D=I("react.forward_ref"),z=I("react.suspense"),j=I("react.suspense_list"),T=I("react.memo"),P=I("react.lazy"),R=I("react.block"),I("react.scope"),B=I("react.opaque.id"),N=I("react.debug_trace_mode"),L=I("react.offscreen"),F=I("react.legacy_hidden")}var W,A="function"===typeof Symbol&&Symbol.iterator;function U(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}function G(e){if(void 0===W)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);W=t&&t[1]||""}return"\n"+W+e}var V=!1;function H(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?G(e):""}function q(e){switch(e.tag){case 5:return G(e.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function Q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case C:return"Portal";case S:return"Profiler";case E:return"StrictMode";case z:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case M:return(e._context.displayName||"Context")+".Provider";case D:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case T:return Q(e.type);case R:return Q(e._render);case P:t=e._payload,e=e._init;try{return Q(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Z(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ue(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ye,ve,me=(ve=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((ye=ye||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ye.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function _e(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ge={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function ke(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ge.hasOwnProperty(e)&&ge[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ke(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ge).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ge[t]=ge[e]}))}));var Ce=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function we(e,t){if(t){if(Ce[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Me=null,Oe=null,De=null;function ze(e){if(e=ri(e)){if("function"!==typeof Me)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Me(e.stateNode,e.type,t))}}function je(e){Oe?De?De.push(e):De=[e]:Oe=e}function Te(){if(Oe){var e=Oe,t=De;if(De=Oe=null,ze(e),t)for(e=0;e<t.length;e++)ze(t[e])}}function Pe(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function Be(){}var Ne=Pe,Le=!1,Fe=!1;function Ie(){null===Oe&&null===De||(Be(),Te())}function We(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ae=!1;if(h)try{var Ue={};Object.defineProperty(Ue,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,Ue)}catch(ve){Ae=!1}function Ge(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ve=!1,He=null,qe=!1,Qe=null,Ye={onError:function(e){Ve=!0,He=e}};function Xe(e,t,n,r,i,a,o,s,l){Ve=!1,He=null,Ge.apply(Ye,arguments)}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Ze(e)!==e)throw Error(o(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ke(i),e;if(a===r)return Ke(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,lt=null,ut=null,ct=new Map,ht=new Map,ft=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function yt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function vt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function _t(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function gt(e,t,n){_t(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&_t(st)&&(st=null),null!==lt&&_t(lt)&&(lt=null),null!==ut&&_t(ut)&&(ut=null),ct.forEach(gt),ht.forEach(gt)}function kt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return kt(t,e)}if(0<ot.length){kt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&kt(st,e),null!==lt&&kt(lt,e),null!==ut&&kt(ut,e),ct.forEach(t),ht.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)mt(n),null===n.blockedOn&&ft.shift()}function Ct(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wt={animationend:Ct("Animation","AnimationEnd"),animationiteration:Ct("Animation","AnimationIteration"),animationstart:Ct("Animation","AnimationStart"),transitionend:Ct("Transition","TransitionEnd")},Et={},St={};function Mt(e){if(Et[e])return Et[e];if(!wt[e])return e;var t,n=wt[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return Et[e]=n[t];return e}h&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete wt.animationend.animation,delete wt.animationiteration.animation,delete wt.animationstart.animation),"TransitionEvent"in window||delete wt.transitionend.transition);var Ot=Mt("animationend"),Dt=Mt("animationiteration"),zt=Mt("animationstart"),jt=Mt("transitionend"),Tt=new Map,Pt=new Map,Rt=["abort","abort",Ot,"animationEnd",Dt,"animationIteration",zt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",jt,"transitionEnd","waiting","waiting"];function Bt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Tt.set(r,i),u(i,[r])}}(0,a.unstable_now)();var Nt=8;function Lt(e){if(0!==(1&e))return Nt=15,1;if(0!==(2&e))return Nt=14,2;if(0!==(4&e))return Nt=13,4;var t=24&e;return 0!==t?(Nt=12,t):0!==(32&e)?(Nt=11,32):0!==(t=192&e)?(Nt=10,t):0!==(256&e)?(Nt=9,256):0!==(t=3584&e)?(Nt=8,t):0!==(4096&e)?(Nt=7,4096):0!==(t=4186112&e)?(Nt=6,t):0!==(t=62914560&e)?(Nt=5,t):67108864&e?(Nt=4,67108864):0!==(134217728&e)?(Nt=3,134217728):0!==(t=805306368&e)?(Nt=2,t):0!==(1073741824&e)?(Nt=1,1073741824):(Nt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Nt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Nt=15;else if(0!==(a=134217727&n)){var l=a&~o;0!==l?(r=Lt(l),i=Nt):0!==(s&=a)&&(r=Lt(s),i=Nt)}else 0!==(a=n&~o)?(r=Lt(a),i=Nt):0!==s&&(r=Lt(s),i=Nt);if(0===r)return 0;if(r=n&((0>(r=31-Vt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Lt(t),i<=Nt)return t;Nt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Vt(t)),r|=e[n],t&=~i;return r}function It(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Wt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=At(24&~t))?Wt(10,t):e;case 10:return 0===(e=At(192&~t))?Wt(8,t):e;case 8:return 0===(e=At(3584&~t))&&(0===(e=At(4186112&~t))&&(e=512)),e;case 2:return 0===(t=At(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function At(e){return e&-e}function Ut(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Vt(t)]=n}var Vt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/qt|0)|0},Ht=Math.log,qt=Math.LN2;var Qt=a.unstable_UserBlockingPriority,Yt=a.unstable_runWithPriority,Xt=!0;function Zt(e,t,n,r){Le||Be();var i=Kt,a=Le;Le=!0;try{Re(i,e,t,n,r)}finally{(Le=a)||Ie()}}function $t(e,t,n,r){Yt(Qt,Kt.bind(null,e,t,n,r))}function Kt(e,t,n,r){var i;if(Xt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Jt(e,t,n,r);if(null===a)i&&yt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=vt(st,e,t,n,r,i),!0;case"dragenter":return lt=vt(lt,e,t,n,r,i),!0;case"mouseover":return ut=vt(ut,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ct.set(a,vt(ct.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ht.set(a,vt(ht.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;yt(e,r)}Br(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var a=Ze(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=$e(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Br(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function ln(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,hn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=ln(fn),pn=i({},fn,{view:0,detail:0}),yn=ln(pn),vn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(un=e.screenX-hn.screenX,cn=e.screenY-hn.screenY):cn=un=0,hn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),mn=ln(vn),_n=ln(i({},vn,{dataTransfer:0})),gn=ln(i({},pn,{relatedTarget:0})),bn=ln(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),kn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=ln(kn),Cn=ln(i({},fn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function On(){return Mn}var Dn=i({},pn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),zn=ln(Dn),jn=ln(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=ln(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),Pn=ln(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bn=ln(Rn),Nn=[9,13,27,32],Ln=h&&"CompositionEvent"in window,Fn=null;h&&"documentMode"in document&&(Fn=document.documentMode);var In=h&&"TextEvent"in window&&!Fn,Wn=h&&(!Ln||Fn&&8<Fn&&11>=Fn),An=String.fromCharCode(32),Un=!1;function Gn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Yn(e,t,n,r){je(r),0<(t=Lr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,Zn=null;function $n(e){Dr(e,0)}function Kn(e){if($(ii(e)))return e}function Jn(e,t){if("change"===e)return t}var er=!1;if(h){var tr;if(h){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Xn&&(Xn.detachEvent("onpropertychange",ar),Zn=Xn=null)}function ar(e){if("value"===e.propertyName&&Kn(Zn)){var t=[];if(Yn(t,Zn,e,Se(e)),e=$n,Le)e(t);else{Le=!0;try{Pe(e,t)}finally{Le=!1,Ie()}}}}function or(e,t,n){"focusin"===e?(ir(),Zn=n,(Xn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Zn)}function lr(e,t){if("click"===e)return Kn(t)}function ur(e,t){if("input"===e||"change"===e)return Kn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},hr=Object.prototype.hasOwnProperty;function fr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function yr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?yr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var _r=h&&"documentMode"in document&&11>=document.documentMode,gr=null,br=null,kr=null,xr=!1;function Cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},kr&&fr(kr,r)||(kr=r,0<(r=Lr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}Bt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Bt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Bt(Rt,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<wr.length;Er++)Pt.set(wr[Er],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,u){if(Xe.apply(this,arguments),Ve){if(!Ve)throw Error(o(198));var c=He;Ve=!1,He=null,qe||(qe=!0,Qe=c)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Or(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Or(i,s,u),a=l}}}if(qe)throw e=Qe,qe=!1,Qe=null,e}function zr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var jr="_reactListening"+Math.random().toString(36).slice(2);function Tr(e){e[jr]||(e[jr]=!0,s.forEach((function(t){Mr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Mr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Rr(a,e,i,t),o.add(s))}function Rr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Zt;break;case 1:i=$t;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Ne(e,t,n)}finally{Fe=!1,Ie()}}((function(){var r=a,i=Se(n),o=[];e:{var s=Tt.get(e);if(void 0!==s){var l=dn,u=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":l=zn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=_n;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Ot:case Dt:case zt:l=bn;break;case jt:l=Pn;break;case"scroll":l=yn;break;case"wheel":l=Bn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=jn}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var y=(d=p).stateNode;if(5===d.tag&&null!==y&&(d=y,null!==f&&(null!=(y=We(p,f))&&c.push(Nr(p,y,d)))),h)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(u=n.relatedTarget||n.fromElement)||!ni(u)&&!u[ei])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ni(u):null)&&(u!==(h=Ze(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=mn,y="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=jn,y="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==l?s:ii(l),d=null==u?s:ii(u),(s=new c(y,p+"leave",l,n,i)).target=h,s.relatedTarget=d,y=null,ni(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=d,c.relatedTarget=h,y=c),h=y,l&&u)e:{for(f=u,p=0,d=c=l;d;d=Fr(d))p++;for(d=0,y=f;y;y=Fr(y))d++;for(;0<p-d;)c=Fr(c),p--;for(;0<d-p;)f=Fr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Fr(c),f=Fr(f)}c=null}else c=null;null!==l&&Ir(o,s,l,c,!1),null!==u&&null!==h&&Ir(o,h,u,c,!0)}if("select"===(l=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=Jn;else if(Qn(s))if(er)v=ur;else{v=sr;var m=or}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=lr);switch(v&&(v=v(e,r))?Yn(o,v,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ie(s,"number",s.value)),m=r?ii(r):window,e){case"focusin":(Qn(m)||"true"===m.contentEditable)&&(gr=m,br=r,kr=null);break;case"focusout":kr=br=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Cr(o,n,i);break;case"selectionchange":if(_r)break;case"keydown":case"keyup":Cr(o,n,i)}var _;if(Ln)e:{switch(e){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Hn?Gn(e,n)&&(g="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(g="onCompositionStart");g&&(Wn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==g?"onCompositionEnd"===g&&Hn&&(_=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(m=Lr(r,g)).length&&(g=new Cn(g,e,null,n,i),o.push({event:g,listeners:m}),_?g.data=_:null!==(_=Vn(n))&&(g.data=_))),(_=In?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,An);case"textInput":return(e=t.data)===An&&Un?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Ln&&Gn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Lr(r,"onBeforeInput")).length&&(i=new Cn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=_))}Dr(o,t)}))}function Nr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=We(e,n))&&r.unshift(Nr(e,a,i)),null!=(a=We(e,t))&&r.push(Nr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ir(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=We(n,a))&&o.unshift(Nr(n,l,s)):i||null!=(l=We(n,a))&&o.push(Nr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Wr(){}var Ar=null,Ur=null;function Gr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,qr="function"===typeof clearTimeout?clearTimeout:void 0;function Qr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Yr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Xr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Zr=0;var $r=Math.random().toString(36).slice(2),Kr="__reactFiber$"+$r,Jr="__reactProps$"+$r,ei="__reactContainer$"+$r,ti="__reactEvents$"+$r;function ni(e){var t=e[Kr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Kr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Xr(e);null!==e;){if(n=e[Kr])return n;e=Xr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Kr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Jr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],li=-1;function ui(e){return{current:e}}function ci(e){0>li||(e.current=si[li],si[li]=null,li--)}function hi(e,t){li++,si[li]=e.current,e.current=t}var fi={},di=ui(fi),pi=ui(!1),yi=fi;function vi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function _i(){ci(pi),ci(di)}function gi(e,t,n){if(di.current!==fi)throw Error(o(168));hi(di,t),hi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,Q(t)||"Unknown",a));return i({},n,r)}function ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,yi=di.current,hi(di,e),hi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,yi),r.__reactInternalMemoizedMergedChildContext=e,ci(pi),ci(di),hi(di,e)):ci(pi),hi(pi,n)}var Ci=null,wi=null,Ei=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,Mi=a.unstable_cancelCallback,Oi=a.unstable_shouldYield,Di=a.unstable_requestPaint,zi=a.unstable_now,ji=a.unstable_getCurrentPriorityLevel,Ti=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Ri=a.unstable_NormalPriority,Bi=a.unstable_LowPriority,Ni=a.unstable_IdlePriority,Li={},Fi=void 0!==Di?Di:function(){},Ii=null,Wi=null,Ai=!1,Ui=zi(),Gi=1e4>Ui?zi:function(){return zi()-Ui};function Vi(){switch(ji()){case Ti:return 99;case Pi:return 98;case Ri:return 97;case Bi:return 96;case Ni:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Ti;case 98:return Pi;case 97:return Ri;case 96:return Bi;case 95:return Ni;default:throw Error(o(332))}}function qi(e,t){return e=Hi(e),Ei(e,t)}function Qi(e,t,n){return e=Hi(e),Si(e,t,n)}function Yi(){if(null!==Wi){var e=Wi;Wi=null,Mi(e)}Xi()}function Xi(){if(!Ai&&null!==Ii){Ai=!0;var e=0;try{var t=Ii;qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ii=null}catch(n){throw null!==Ii&&(Ii=Ii.slice(e+1)),Si(Ti,Yi),n}finally{Ai=!1}}}var Zi=k.ReactCurrentBatchConfig;function $i(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ki=ui(null),Ji=null,ea=null,ta=null;function na(){ta=ea=Ji=null}function ra(e){var t=Ki.current;ci(Ki),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Ji=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Lo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Ji)throw Error(o(308));ea=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function la(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ua(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ca(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ha(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?o=c:s.next=c,s=u;var h=e.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=c:f.next=c,h.lastBaseUpdate=u)}}if(null!==o){for(f=a.baseState,s=0,h=c=u=null;;){l=o.lane;var d=o.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,y=o;switch(l=t,d=n,y.tag){case 1:if("function"===typeof(p=y.payload)){f=p.call(d,f,l);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=y.payload)?p.call(d,f,l):p)||void 0===l)break e;f=i({},f,l);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(l=a.effects)?a.effects=[o]:l.push(o))}else d={eventTime:d,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(c=h=d,u=f):h=h.next=d,s|=l;if(null===(o=o.next)){if(null===(l=a.shared.pending))break;o=l.next,l.next=null,a.lastBaseUpdate=l,a.shared.pending=null}}null===h&&(u=f),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=h,As|=s,e.lanes=s,e.memoizedState=f}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var ya=(new r.Component).refs;function va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fl(),i=dl(e),a=ca(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ha(e,a),pl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fl(),i=dl(e),a=ca(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ha(e,a),pl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fl(),r=dl(e),i=ca(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ha(e,i),pl(e,r,n)}};function _a(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,a))}function ga(e,t,n){var r=!1,i=fi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=mi(t)?yi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?vi(e,i):fi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ya,la(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=mi(t)?yi:di.current,i.context=vi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function Ca(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ya&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function wa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ea(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ql(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Zl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ca(e,t,n),r.return=e,r):((r=Ql(n.type,n.key,n.props,null,e.mode,r)).ref=Ca(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$l(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Yl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Zl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ql(t.type,t.key,t.props,null,e.mode,n)).ref=Ca(e,null,t),n.return=e,n;case C:return(t=$l(t,e.mode,n)).return=e,t}if(xa(t)||U(t))return(t=Yl(t,e.mode,n,null)).return=e,t;wa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===w?h(e,t,n.props.children,r,i):u(e,t,n,r):null;case C:return n.key===i?c(e,t,n,r):null}if(xa(n)||U(n))return null!==i?null:h(e,t,n,r,null);wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===w?h(t,e,r.props.children,i,r.key):u(t,e,r,i);case C:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||U(r))return h(t,e=e.get(n)||null,r,i,null);wa(t,r)}return null}function y(i,o,s,l){for(var u=null,c=null,h=o,y=o=0,v=null;null!==h&&y<s.length;y++){h.index>y?(v=h,h=null):v=h.sibling;var m=d(i,h,s[y],l);if(null===m){null===h&&(h=v);break}e&&h&&null===m.alternate&&t(i,h),o=a(m,o,y),null===c?u=m:c.sibling=m,c=m,h=v}if(y===s.length)return n(i,h),u;if(null===h){for(;y<s.length;y++)null!==(h=f(i,s[y],l))&&(o=a(h,o,y),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(i,h);y<s.length;y++)null!==(v=p(h,i,y,s[y],l))&&(e&&null!==v.alternate&&h.delete(null===v.key?y:v.key),o=a(v,o,y),null===c?u=v:c.sibling=v,c=v);return e&&h.forEach((function(e){return t(i,e)})),u}function v(i,s,l,u){var c=U(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,y=s,v=s=0,m=null,_=l.next();null!==y&&!_.done;v++,_=l.next()){y.index>v?(m=y,y=null):m=y.sibling;var g=d(i,y,_.value,u);if(null===g){null===y&&(y=m);break}e&&y&&null===g.alternate&&t(i,y),s=a(g,s,v),null===h?c=g:h.sibling=g,h=g,y=m}if(_.done)return n(i,y),c;if(null===y){for(;!_.done;v++,_=l.next())null!==(_=f(i,_.value,u))&&(s=a(_,s,v),null===h?c=_:h.sibling=_,h=_);return c}for(y=r(i,y);!_.done;v++,_=l.next())null!==(_=p(y,i,v,_.value,u))&&(e&&null!==_.alternate&&y.delete(null===_.key?v:_.key),s=a(_,s,v),null===h?c=_:h.sibling=_,h=_);return e&&y.forEach((function(e){return t(i,e)})),c}return function(e,r,a,l){var u="object"===typeof a&&null!==a&&a.type===w&&null===a.key;u&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case x:e:{for(c=a.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(a.type===w){n(e,u.sibling),(r=i(u,a.props.children)).return=e,e=r;break e}}else if(u.elementType===a.type){n(e,u.sibling),(r=i(u,a.props)).ref=Ca(e,u,a),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}a.type===w?((r=Yl(a.props.children,e.mode,l,a.key)).return=e,e=r):((l=Ql(a.type,a.key,a.props,null,e.mode,l)).ref=Ca(e,r,a),l.return=e,e=l)}return s(e);case C:e:{for(u=a.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$l(a,e.mode,l)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Zl(a,e.mode,l)).return=e,e=r),s(e);if(xa(a))return y(e,r,a,l);if(U(a))return v(e,r,a,l);if(c&&wa(e,a),"undefined"===typeof a&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,Q(e.type)||"Component"))}return n(e,r)}}var Sa=Ea(!0),Ma=Ea(!1),Oa={},Da=ui(Oa),za=ui(Oa),ja=ui(Oa);function Ta(e){if(e===Oa)throw Error(o(174));return e}function Pa(e,t){switch(hi(ja,t),hi(za,e),hi(Da,Oa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Da),hi(Da,t)}function Ra(){ci(Da),ci(za),ci(ja)}function Ba(e){Ta(ja.current);var t=Ta(Da.current),n=pe(t,e.type);t!==n&&(hi(za,e),hi(Da,n))}function Na(e){za.current===e&&(ci(Da),ci(za))}var La=ui(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ia=null,Wa=null,Aa=!1;function Ua(e,t){var n=Vl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ga(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Va(e){if(Aa){var t=Wa;if(t){var n=t;if(!Ga(e,t)){if(!(t=Yr(n.nextSibling))||!Ga(e,t))return e.flags=-1025&e.flags|2,Aa=!1,void(Ia=e);Ua(Ia,n)}Ia=e,Wa=Yr(t.firstChild)}else e.flags=-1025&e.flags|2,Aa=!1,Ia=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ia=e}function qa(e){if(e!==Ia)return!1;if(!Aa)return Ha(e),Aa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Vr(t,e.memoizedProps))for(t=Wa;t;)Ua(e,t),t=Yr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Wa=Yr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Wa=null}}else Wa=Ia?Yr(e.stateNode.nextSibling):null;return!0}function Qa(){Wa=Ia=null,Aa=!1}var Ya=[];function Xa(){for(var e=0;e<Ya.length;e++)Ya[e]._workInProgressVersionPrimary=null;Ya.length=0}var Za=k.ReactCurrentDispatcher,$a=k.ReactCurrentBatchConfig,Ka=0,Ja=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ka=a,Ja=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Za.current=null===e||null===e.memoizedState?Po:Ro,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Za.current=Bo,e=n(r,i)}while(ro)}if(Za.current=To,t=null!==eo&&null!==eo.next,Ka=0,to=eo=Ja=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Ja.memoizedState=to=e:to=to.next=e,to}function lo(){if(null===eo){var e=Ja.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Ja.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Ja.memoizedState=to=e:to=to.next=e}return to}function uo(e,t){return"function"===typeof t?t(e):t}function co(e){var t=lo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=a=null,u=i;do{var c=u.lane;if((Ka&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=h,a=r):l=l.next=h,Ja.lanes|=c,As|=c}u=u.next}while(null!==u&&u!==i);null===l?a=r:l.next=s,cr(r,t.memoizedState)||(Lo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ho(e){var t=lo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);cr(a,t.memoizedState)||(Lo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function fo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ka&e)===e)&&(t._workInProgressVersionPrimary=r,Ya.push(t))),e)return n(t._source);throw Ya.push(t),Error(o(350))}function po(e,t,n,r){var i=Ps;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),l=Za.current,u=l.useState((function(){return fo(i,t,n)})),c=u[1],h=u[0];u=to;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,y=f.source;f=f.subscribe;var v=Ja;return e.memoizedState={refs:d,source:t,subscribe:r},l.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var e=a(t._source);if(!cr(s,e)){e=n(t._source),cr(h,e)||(c(e),e=dl(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var l=31-Vt(o),u=1<<l;r[l]|=e,o&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=dl(v);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),cr(p,n)&&cr(y,t)&&cr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:h}).dispatch=c=jo.bind(null,Ja,e),u.queue=e,u.baseQueue=null,h=fo(i,t,n),u.memoizedState=u.baseState=h),h}function yo(e,t,n){return po(lo(),e,t,n)}function vo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:e}).dispatch=jo.bind(null,Ja,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ja.updateQueue)?(t={lastEffect:null},Ja.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function _o(e){return e={current:e},so().memoizedState=e}function go(){return lo().memoizedState}function bo(e,t,n,r){var i=so();Ja.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function ko(e,t,n,r){var i=lo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void mo(t,n,a,r)}Ja.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function Co(e,t){return ko(516,4,e,t)}function wo(e,t){return ko(4,2,e,t)}function Eo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ko(4,2,Eo.bind(null,t,e),n)}function Mo(){}function Oo(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Do(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zo(e,t){var n=Vi();qi(98>n?98:n,(function(){e(!0)})),qi(97<n?97:n,(function(){var n=$a.transition;$a.transition=1;try{e(!1),t()}finally{$a.transition=n}}))}function jo(e,t,n){var r=fl(),i=dl(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Ja||null!==o&&o===Ja)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=o(s,n);if(a.eagerReducer=o,a.eagerState=l,cr(l,s))return}catch(u){}pl(e,i,r)}}var To={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=jo.bind(null,Ja,e),[r.memoizedState,e]},useRef:_o,useState:vo,useDebugValue:Mo,useDeferredValue:function(e){var t=vo(e),n=t[0],r=t[1];return xo((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=vo(!1),t=e[0];return _o(e=zo.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Aa){var e=!1,t=function(e){return{$$typeof:B,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Zr++).toString(36))),Error(o(355))})),n=vo(t)[1];return 0===(2&Ja.mode)&&(Ja.flags|=516,mo(5,(function(){n("r:"+(Zr++).toString(36))}),void 0,null)),t}return vo(t="r:"+(Zr++).toString(36)),t},unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:Oo,useContext:oa,useEffect:Co,useImperativeHandle:So,useLayoutEffect:wo,useMemo:Do,useReducer:co,useRef:go,useState:function(){return co(uo)},useDebugValue:Mo,useDeferredValue:function(e){var t=co(uo),n=t[0],r=t[1];return Co((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=co(uo)[0];return[go().current,e]},useMutableSource:yo,useOpaqueIdentifier:function(){return co(uo)[0]},unstable_isNewReconciler:!1},Bo={readContext:oa,useCallback:Oo,useContext:oa,useEffect:Co,useImperativeHandle:So,useLayoutEffect:wo,useMemo:Do,useReducer:ho,useRef:go,useState:function(){return ho(uo)},useDebugValue:Mo,useDeferredValue:function(e){var t=ho(uo),n=t[0],r=t[1];return Co((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=ho(uo)[0];return[go().current,e]},useMutableSource:yo,useOpaqueIdentifier:function(){return ho(uo)[0]},unstable_isNewReconciler:!1},No=k.ReactCurrentOwner,Lo=!1;function Fo(e,t,n,r){t.child=null===e?Ma(t,null,n,r):Sa(t,e.child,n,r)}function Io(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Lo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Wo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ql(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ao(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=ql(o,r)).ref=t.ref,e.return=t,t.child=e)}function Ao(e,t,n,r,i,a){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Lo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Lo=!0)}return Vo(e,t,n,r,a)}function Uo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xl(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xl(t,e),null;t.memoizedState={baseLanes:0},xl(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xl(t,r);return Fo(e,t,i,n),t.child}function Go(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Vo(e,t,n,r,i){var a=mi(n)?yi:di.current;return a=vi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Lo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ho(e,t,n,r,i){if(mi(n)){var a=!0;ki(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ga(t,n,r),ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=oa(u):u=vi(t,u=mi(n)?yi:di.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&ba(t,o,r,u),sa=!1;var f=t.memoizedState;o.state=f,da(t,r,o,i),l=t.memoizedState,s!==r||f!==l||pi.current||sa?("function"===typeof c&&(va(t,n,c,r),l=t.memoizedState),(s=sa||_a(t,n,s,r,f,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ua(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:$i(t.type,s),o.props=u,h=t.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=oa(l):l=vi(t,l=mi(n)?yi:di.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==l)&&ba(t,o,r,l),sa=!1,f=t.memoizedState,o.state=f,da(t,r,o,i);var p=t.memoizedState;s!==h||f!==p||pi.current||sa?("function"===typeof d&&(va(t,n,d,r),p=t.memoizedState),(u=sa||_a(t,n,u,r,f,p,l))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return qo(e,t,n,r,a,i)}function qo(e,t,n,r,i,a){Go(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),as(e,t,a);r=t.stateNode,No.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,s,a)):Fo(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Qo(e){var t=e.stateNode;t.pendingContext?gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gi(0,t.context,!1),Pa(e,t.containerInfo)}var Yo,Xo,Zo,$o={dehydrated:null,retryLane:0};function Ko(e,t,n){var r,i=t.pendingProps,a=La.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),hi(La,1&a),null===e?(void 0!==i.fallback&&Va(t),e=i.children,a=i.fallback,o?(e=Jo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,e):"number"===typeof i.unstable_expectedLoadTime?(e=Jo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,t.lanes=33554432,e):((n=Xl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=$o,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Jo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Xl(t,i,0,null),n=Yl(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=ql(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=ql(o,s),null!==e?r=ql(e,r):(r=Yl(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=La.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(hi(La,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),As|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=ql(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ql(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&_i(),null;case 3:return Ra(),ci(pi),ci(di),Xa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(qa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Na(t);var a=Ta(ja.current);if(n=t.type,null!==e&&null!=t.stateNode)Xo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ta(Da.current),qa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Kr]=t,r[Jr]=s,n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)zr(Sr[e],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":ee(r,s),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zr("invalid",r);break;case"textarea":le(r,s),zr("invalid",r)}for(var u in we(n,s),e=null,s)s.hasOwnProperty(u)&&(a=s[u],"children"===u?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):l.hasOwnProperty(u)&&null!=a&&"onScroll"===u&&zr("scroll",r));switch(n){case"input":Z(r),re(r,s,!0);break;case"textarea":Z(r),ce(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Wr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===a.nodeType?a:a.ownerDocument,e===he&&(e=de(n)),e===he?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Kr]=t,e[Jr]=r,Yo(e,t),t.stateNode=e,u=Ee(n,r),n){case"dialog":zr("cancel",e),zr("close",e),a=r;break;case"iframe":case"object":case"embed":zr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)zr(Sr[a],e);a=r;break;case"source":zr("error",e),a=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),a=r;break;case"details":zr("toggle",e),a=r;break;case"input":ee(e,r),a=J(e,r),zr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),zr("invalid",e);break;case"textarea":le(e,r),a=se(e,r),zr("invalid",e);break;default:a=r}we(n,a);var c=a;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?xe(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&me(e,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&_e(e,h):"number"===typeof h&&_e(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=h&&"onScroll"===s&&zr("scroll",e):null!=h&&b(e,s,h,u))}switch(n){case"input":Z(e),re(e,r,!1);break;case"textarea":Z(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Wr)}Gr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Zo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ta(ja.current),Ta(Da.current),qa(t)?(r=t.stateNode,n=t.memoizedProps,r[Kr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Kr]=t,t.stateNode=r)}return null;case 13:return ci(La),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&qa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&La.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Ps||0===(134217727&As)&&0===(134217727&Us)||_l(Ps,Bs))),(r||n)&&(t.flags|=4),null);case 4:return Ra(),null===e&&Tr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(ci(La),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(u=r.rendering))if(s)os(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Fa(e))){for(t.flags|=64,os(r,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return hi(La,1&La.current|2),t.child}e=e.sibling}null!==r.tail&&Gi()>qs&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fa(u))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Aa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Gi()-r.renderingStartTime>qs&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Gi(),n.sibling=null,t=La.current,hi(La,s?1&t|2:1&t),n):null;case 23:case 24:return Cl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function ls(e){switch(e.tag){case 1:mi(e.type)&&_i();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ra(),ci(pi),ci(di),Xa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Na(e),null;case 13:return ci(La),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(La),null;case 4:return Ra(),null;case 10:return ra(e),null;case 23:case 24:return Cl(),null;default:return null}}function us(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function cs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Yo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ta(Da.current);var o,s=null;switch(n){case"input":a=J(e,a),r=J(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Wr)}for(h in we(n,r),n=null,a)if(!r.hasOwnProperty(h)&&a.hasOwnProperty(h)&&null!=a[h])if("style"===h){var u=a[h];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(u=null!=a?a[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(null!=c||null!=u))if("style"===h)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(h,c)):"children"===h?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&zr("scroll",e),s||u===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===B?c.toString():(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Zo=function(e,t,n,r){n!==r&&(t.flags|=4)};var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=ca(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zs||(Zs=!0,$s=r),cs(0,t)},n}function ds(e,t,n){(n=ca(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return cs(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this),cs(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function ys(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Wl(e,n)}else t.current=null}function vs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$i(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Qr(t.stateNode.containerInfo))}throw Error(o(163))}function ms(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Ll(n,e),Nl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:$i(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Gr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function _s(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=ke("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function gs(e,t){if(wi&&"function"===typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(Ci,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Ll(t,n);else{r=t;try{i()}catch(a){Wl(r,a)}}n=n.next}while(n!==e)}break;case 1:if(ys(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Wl(t,a)}break;case 5:ys(t);break;case 4:Es(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ks(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(ks(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(_e(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ks(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Cs(e,n,t):ws(e,n,t)}function Cs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Wr));else if(4!==r&&null!==(e=e.child))for(Cs(e,t,n),e=e.sibling;null!==e;)Cs(e,t,n),e=e.sibling}function ws(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ws(e,t,n),e=e.sibling;null!==e;)ws(e,t,n),e=e.sibling}function Es(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,l=i,u=l;;)if(gs(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(gs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ss(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var s=a[i],l=a[i+1];"style"===s?xe(n,l):"dangerouslySetInnerHTML"===s?me(n,l):"children"===s?_e(n,l):b(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=Gi(),_s(t.child,!0)),void Ms(t);case 19:return void Ms(t);case 23:case 24:return void _s(t,null!==t.memoizedState)}throw Error(o(163))}function Ms(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Ul.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Os(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ds=Math.ceil,zs=k.ReactCurrentDispatcher,js=k.ReactCurrentOwner,Ts=0,Ps=null,Rs=null,Bs=0,Ns=0,Ls=ui(0),Fs=0,Is=null,Ws=0,As=0,Us=0,Gs=0,Vs=null,Hs=0,qs=1/0;function Qs(){qs=Gi()+500}var Ys,Xs=null,Zs=!1,$s=null,Ks=null,Js=!1,el=null,tl=90,nl=[],rl=[],il=null,al=0,ol=null,sl=-1,ll=0,ul=0,cl=null,hl=!1;function fl(){return 0!==(48&Ts)?Gi():-1!==sl?sl:sl=Gi()}function dl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Vi()?1:2;if(0===ll&&(ll=Ws),0!==Zi.transition){0!==ul&&(ul=null!==Vs?Vs.pendingLanes:0),e=ll;var t=4186112&~ul;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Vi(),0!==(4&Ts)&&98===e?e=Wt(12,ll):e=Wt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ll),e}function pl(e,t,n){if(50<al)throw al=0,ol=null,Error(o(185));if(null===(e=yl(e,t)))return null;Gt(e,t,n),e===Ps&&(Us|=t,4===Fs&&_l(e,Bs));var r=Vi();1===t?0!==(8&Ts)&&0===(48&Ts)?gl(e):(vl(e,n),0===Ts&&(Qs(),Yi())):(0===(4&Ts)||98!==r&&99!==r||(null===il?il=new Set([e]):il.add(e)),vl(e,n)),Vs=e}function yl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function vl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Vt(s),u=1<<l,c=a[l];if(-1===c){if(0===(u&r)||0!==(u&i)){c=t,Lt(u);var h=Nt;a[l]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);s&=~u}if(r=Ft(e,e===Ps?Bs:0),t=Nt,0===r)null!==n&&(n!==Li&&Mi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Li&&Mi(n)}15===t?(n=gl.bind(null,e),null===Ii?(Ii=[n],Wi=Si(Ti,Xi)):Ii.push(n),n=Li):14===t?n=Qi(99,gl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Qi(n,ml.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ml(e){if(sl=-1,ul=ll=0,0!==(48&Ts))throw Error(o(327));var t=e.callbackNode;if(Bl()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ps?Bs:0);if(0===n)return null;var r=n,i=Ts;Ts|=16;var a=Sl();for(Ps===e&&Bs===r||(Qs(),wl(e,r));;)try{Dl();break}catch(l){El(e,l)}if(na(),zs.current=a,Ts=i,null!==Rs?r=0:(Ps=null,Bs=0,r=Fs),0!==(Ws&Us))wl(e,0);else if(0!==r){if(2===r&&(Ts|=64,e.hydrate&&(e.hydrate=!1,Qr(e.containerInfo)),0!==(n=It(e))&&(r=Ml(e,n))),1===r)throw t=Is,wl(e,0),_l(e,n),vl(e,Gi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Tl(e);break;case 3:if(_l(e,n),(62914560&n)===n&&10<(r=Hs+500-Gi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){fl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Tl.bind(null,e),r);break}Tl(e);break;case 4:if(_l(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Vt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Gi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ds(n/1960))-n)){e.timeoutHandle=Hr(Tl.bind(null,e),n);break}Tl(e);break;default:throw Error(o(329))}}return vl(e,Gi()),e.callbackNode===t?ml.bind(null,e):null}function _l(e,t){for(t&=~Gs,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),r=1<<n;e[n]=-1,t&=~r}}function gl(e){if(0!==(48&Ts))throw Error(o(327));if(Bl(),e===Ps&&0!==(e.expiredLanes&Bs)){var t=Bs,n=Ml(e,t);0!==(Ws&Us)&&(n=Ml(e,t=Ft(e,t)))}else n=Ml(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ts|=64,e.hydrate&&(e.hydrate=!1,Qr(e.containerInfo)),0!==(t=It(e))&&(n=Ml(e,t))),1===n)throw n=Is,wl(e,0),_l(e,t),vl(e,Gi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tl(e),vl(e,Gi()),null}function bl(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(Qs(),Yi())}}function kl(e,t){var n=Ts;Ts&=-2,Ts|=8;try{return e(t)}finally{0===(Ts=n)&&(Qs(),Yi())}}function xl(e,t){hi(Ls,Ns),Ns|=t,Ws|=t}function Cl(){Ns=Ls.current,ci(Ls)}function wl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,qr(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&_i();break;case 3:Ra(),ci(pi),ci(di),Xa();break;case 5:Na(r);break;case 4:Ra();break;case 13:case 19:ci(La);break;case 10:ra(r);break;case 23:case 24:Cl()}n=n.return}Ps=e,Rs=ql(e.current,null),Bs=Ns=Ws=t,Fs=0,Is=null,Gs=Us=As=0}function El(e,t){for(;;){var n=Rs;try{if(na(),Za.current=To,no){for(var r=Ja.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ka=0,to=eo=Ja=null,ro=!1,js.current=null,null===n||null===n.return){Fs=1,Is=t,Rs=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=Bs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&La.current),f=o;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var y=f.memoizedProps;d=void 0!==y.fallback&&(!0!==y.unstable_avoidThisFallback||!h)}}if(d){var v=f.updateQueue;if(null===v){var m=new Set;m.add(u),f.updateQueue=m}else v.add(u);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var _=ca(-1,1);_.tag=2,ha(s,_)}s.lanes|=1;break e}l=void 0,s=t;var g=a.pingCache;if(null===g?(g=a.pingCache=new hs,l=new Set,g.set(u,l)):void 0===(l=g.get(u))&&(l=new Set,g.set(u,l)),!l.has(s)){l.add(s);var b=Al.bind(null,a,u,s);u.then(b,b)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);l=Error((Q(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),l=us(l,s),f=o;do{switch(f.tag){case 3:a=l,f.flags|=4096,t&=-t,f.lanes|=t,fa(f,fs(0,a,t));break e;case 1:a=l;var k=f.type,x=f.stateNode;if(0===(64&f.flags)&&("function"===typeof k.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Ks||!Ks.has(x)))){f.flags|=4096,t&=-t,f.lanes|=t,fa(f,ds(f,a,t));break e}}f=f.return}while(null!==f)}jl(n)}catch(C){t=C,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function Sl(){var e=zs.current;return zs.current=To,null===e?To:e}function Ml(e,t){var n=Ts;Ts|=16;var r=Sl();for(Ps===e&&Bs===t||wl(e,t);;)try{Ol();break}catch(i){El(e,i)}if(na(),Ts=n,zs.current=r,null!==Rs)throw Error(o(261));return Ps=null,Bs=0,Fs}function Ol(){for(;null!==Rs;)zl(Rs)}function Dl(){for(;null!==Rs&&!Oi();)zl(Rs)}function zl(e){var t=Ys(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,null===t?jl(e):Rs=t,js.current=null}function jl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ns)))return void(Rs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ns)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ls(t)))return n.flags&=2047,void(Rs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Fs&&(Fs=5)}function Tl(e){var t=Vi();return qi(99,Pl.bind(null,e,t)),null}function Pl(e,t){do{Bl()}while(null!==el);if(0!==(48&Ts))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<a;){var u=31-Vt(a),c=1<<u;i[u]=0,s[u]=-1,l[u]=-1,a&=~c}if(null!==il&&0===(24&r)&&il.has(e)&&il.delete(e),e===Ps&&(Rs=Ps=null,Bs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ts,Ts|=32,js.current=null,Ar=Xt,mr(s=vr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,a=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(S){l=null;break e}var h=0,f=-1,d=-1,p=0,y=0,v=s,m=null;t:for(;;){for(var _;v!==l||0!==a&&3!==v.nodeType||(f=h+a),v!==u||0!==c&&3!==v.nodeType||(d=h+c),3===v.nodeType&&(h+=v.nodeValue.length),null!==(_=v.firstChild);)m=v,v=_;for(;;){if(v===s)break t;if(m===l&&++p===a&&(f=h),m===u&&++y===c&&(d=h),null!==(_=v.nextSibling))break;m=(v=m).parentNode}v=_}l=-1===f||-1===d?null:{start:f,end:d}}else l=null;l=l||{start:0,end:0}}else l=null;Ur={focusedElem:s,selectionRange:l},Xt=!1,cl=null,hl=!1,Xs=r;do{try{Rl()}catch(S){if(null===Xs)throw Error(o(330));Wl(Xs,S),Xs=Xs.nextEffect}}while(null!==Xs);cl=null,Xs=r;do{try{for(s=e;null!==Xs;){var g=Xs.flags;if(16&g&&_e(Xs.stateNode,""),128&g){var b=Xs.alternate;if(null!==b){var k=b.ref;null!==k&&("function"===typeof k?k(null):k.current=null)}}switch(1038&g){case 2:xs(Xs),Xs.flags&=-3;break;case 6:xs(Xs),Xs.flags&=-3,Ss(Xs.alternate,Xs);break;case 1024:Xs.flags&=-1025;break;case 1028:Xs.flags&=-1025,Ss(Xs.alternate,Xs);break;case 4:Ss(Xs.alternate,Xs);break;case 8:Es(s,l=Xs);var x=l.alternate;bs(l),null!==x&&bs(x)}Xs=Xs.nextEffect}}catch(S){if(null===Xs)throw Error(o(330));Wl(Xs,S),Xs=Xs.nextEffect}}while(null!==Xs);if(k=Ur,b=vr(),g=k.focusedElem,s=k.selectionRange,b!==g&&g&&g.ownerDocument&&yr(g.ownerDocument.documentElement,g)){null!==s&&mr(g)&&(b=s.start,void 0===(k=s.end)&&(k=b),"selectionStart"in g?(g.selectionStart=b,g.selectionEnd=Math.min(k,g.value.length)):(k=(b=g.ownerDocument||document)&&b.defaultView||window).getSelection&&(k=k.getSelection(),l=g.textContent.length,x=Math.min(s.start,l),s=void 0===s.end?x:Math.min(s.end,l),!k.extend&&x>s&&(l=s,s=x,x=l),l=pr(g,x),a=pr(g,s),l&&a&&(1!==k.rangeCount||k.anchorNode!==l.node||k.anchorOffset!==l.offset||k.focusNode!==a.node||k.focusOffset!==a.offset)&&((b=b.createRange()).setStart(l.node,l.offset),k.removeAllRanges(),x>s?(k.addRange(b),k.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),k.addRange(b))))),b=[];for(k=g;k=k.parentNode;)1===k.nodeType&&b.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"===typeof g.focus&&g.focus(),g=0;g<b.length;g++)(k=b[g]).element.scrollLeft=k.left,k.element.scrollTop=k.top}Xt=!!Ar,Ur=Ar=null,e.current=n,Xs=r;do{try{for(g=e;null!==Xs;){var C=Xs.flags;if(36&C&&ms(g,Xs.alternate,Xs),128&C){b=void 0;var w=Xs.ref;if(null!==w){var E=Xs.stateNode;Xs.tag,b=E,"function"===typeof w?w(b):w.current=b}}Xs=Xs.nextEffect}}catch(S){if(null===Xs)throw Error(o(330));Wl(Xs,S),Xs=Xs.nextEffect}}while(null!==Xs);Xs=null,Fi(),Ts=i}else e.current=n;if(Js)Js=!1,el=e,tl=t;else for(Xs=r;null!==Xs;)t=Xs.nextEffect,Xs.nextEffect=null,8&Xs.flags&&((C=Xs).sibling=null,C.stateNode=null),Xs=t;if(0===(r=e.pendingLanes)&&(Ks=null),1===r?e===ol?al++:(al=0,ol=e):al=0,n=n.stateNode,wi&&"function"===typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(Ci,n,void 0,64===(64&n.current.flags))}catch(S){}if(vl(e,Gi()),Zs)throw Zs=!1,e=$s,$s=null,e;return 0!==(8&Ts)||Yi(),null}function Rl(){for(;null!==Xs;){var e=Xs.alternate;hl||null===cl||(0!==(8&Xs.flags)?et(Xs,cl)&&(hl=!0):13===Xs.tag&&Os(e,Xs)&&et(Xs,cl)&&(hl=!0));var t=Xs.flags;0!==(256&t)&&vs(e,Xs),0===(512&t)||Js||(Js=!0,Qi(97,(function(){return Bl(),null}))),Xs=Xs.nextEffect}}function Bl(){if(90!==tl){var e=97<tl?97:tl;return tl=90,qi(e,Fl)}return!1}function Nl(e,t){nl.push(t,e),Js||(Js=!0,Qi(97,(function(){return Bl(),null})))}function Ll(e,t){rl.push(t,e),Js||(Js=!0,Qi(97,(function(){return Bl(),null})))}function Fl(){if(null===el)return!1;var e=el;if(el=null,0!==(48&Ts))throw Error(o(331));var t=Ts;Ts|=32;var n=rl;rl=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(u){if(null===a)throw Error(o(330));Wl(a,u)}}for(n=nl,nl=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var l=i.create;i.destroy=l()}catch(u){if(null===a)throw Error(o(330));Wl(a,u)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ts=t,Yi(),!0}function Il(e,t,n){ha(e,t=fs(0,t=us(n,t),1)),t=fl(),null!==(e=yl(e,1))&&(Gt(e,1,t),vl(e,t))}function Wl(e,t){if(3===e.tag)Il(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Il(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){var i=ds(n,e=us(t,e),1);if(ha(n,i),i=fl(),null!==(n=yl(n,1)))Gt(n,1,i),vl(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Al(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fl(),e.pingedLanes|=e.suspendedLanes&n,Ps===e&&(Bs&n)===n&&(4===Fs||3===Fs&&(62914560&Bs)===Bs&&500>Gi()-Hs?wl(e,0):Gs|=n),vl(e,t)}function Ul(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Vi()?1:2:(0===ll&&(ll=Ws),0===(t=At(62914560&~ll))&&(t=4194304))),n=fl(),null!==(e=yl(e,t))&&(Gt(e,t,n),vl(e,n))}function Gl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Vl(e,t,n,r){return new Gl(e,t,n,r)}function Hl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ql(e,t){var n=e.alternate;return null===n?((n=Vl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ql(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Hl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case w:return Yl(n.children,i,a,t);case N:s=8,i|=16;break;case E:s=8,i|=1;break;case S:return(e=Vl(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case z:return(e=Vl(13,n,t,i)).type=z,e.elementType=z,e.lanes=a,e;case j:return(e=Vl(19,n,t,i)).elementType=j,e.lanes=a,e;case L:return Xl(n,i,a,t);case F:return(e=Vl(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case M:s=10;break e;case O:s=9;break e;case D:s=11;break e;case T:s=14;break e;case P:s=16,r=null;break e;case R:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Vl(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Yl(e,t,n,r){return(e=Vl(7,e,r,t)).lanes=n,e}function Xl(e,t,n,r){return(e=Vl(23,e,r,t)).elementType=L,e.lanes=n,e}function Zl(e,t,n){return(e=Vl(6,e,null,t)).lanes=n,e}function $l(e,t,n){return(t=Vl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ut(0),this.expirationTimes=Ut(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ut(0),this.mutableSourceEagerHydrationData=null}function Jl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function eu(e,t,n,r){var i=t.current,a=fl(),s=dl(i);e:if(n){t:{if(Ze(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var u=n.type;if(mi(u)){n=bi(n,u,l);break e}}n=l}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=ca(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ha(i,t),pl(i,s,a),s}function tu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ru(e,t){nu(e,t),(e=e.alternate)&&nu(e,t)}function iu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Kl(e,t,null!=n&&!0===n.hydrate),t=Vl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,la(t),e[ei]=n.current,Tr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function au(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ou(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tu(o);s.call(e)}}eu(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new iu(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var l=i;i=function(){var e=tu(o);l.call(e)}}kl((function(){eu(t,o,e,i)}))}return tu(o)}function su(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!au(t))throw Error(o(200));return Jl(e,t,null,n)}Ys=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Lo=!0;else{if(0===(n&r)){switch(Lo=!1,t.tag){case 3:Qo(t),Qa();break;case 5:Ba(t);break;case 1:mi(t.type)&&ki(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;hi(Ki,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ko(e,t,n):(hi(La,1&La.current),null!==(t=as(e,t,n))?t.sibling:null);hi(La,1&La.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),hi(La,La.current),r)break;return null;case 23:case 24:return t.lanes=0,Uo(e,t,n)}return as(e,t,n)}Lo=0!==(16384&e.flags)}else Lo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;ki(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,la(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&va(t,r,s,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,ka(t,r,e,n),t=qo(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===D)return 11;if(e===T)return 14}return 2}(i),e=$i(i,e),a){case 0:t=Vo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Io(null,t,i,e,n);break e;case 14:t=Wo(null,t,i,$i(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 3:if(Qo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ua(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Qa(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Wa=Yr(t.stateNode.containerInfo.firstChild),Ia=t,a=Aa=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ya.push(a);for(n=Ma(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Qa();t=t.child}return t;case 5:return Ba(t),null===e&&Va(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Vr(r,i)?s=null:null!==a&&Vr(r,a)&&(t.flags|=16),Go(e,t),Fo(e,t,s,n),t.child;case 6:return null===e&&Va(t),null;case 13:return Ko(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Io(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var l=t.type._context;if(hi(Ki,l._currentValue),l._currentValue=a,null!==s)if(l=s.value,0===(a=cr(l,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&a)){1===l.tag&&((c=ca(-1,n&-n)).tag=2,ha(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),ia(l.return,n),u.lanes|=n;break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=$i(i=t.type,t.pendingProps),Wo(e,t,i,a=$i(i.type,a),r,n);case 15:return Ao(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$i(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,ki(t)):e=!1,aa(t,n),ga(t,r,i),ka(t,r,i,n),qo(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Uo(e,t,n)}throw Error(o(156,t.tag))},iu.prototype.render=function(e){eu(e,this._internalRoot,null,null)},iu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;eu(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pl(e,4,fl()),ru(e,4))},nt=function(e){13===e.tag&&(pl(e,67108864,fl()),ru(e,67108864))},rt=function(e){if(13===e.tag){var t=fl(),n=dl(e);pl(e,n,t),ru(e,n)}},it=function(e,t){return t()},Me=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));$(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=bl,Re=function(e,t,n,r,i){var a=Ts;Ts|=4;try{return qi(98,e.bind(null,t,n,r,i))}finally{0===(Ts=a)&&(Qs(),Yi())}},Be=function(){0===(49&Ts)&&(function(){if(null!==il){var e=il;il=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vl(e,Gi())}))}Yi()}(),Bl())},Ne=function(e,t){var n=Ts;Ts|=2;try{return e(t)}finally{0===(Ts=n)&&(Qs(),Yi())}};var lu={Events:[ri,ii,ai,je,Te,Bl,{current:!1}]},uu={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cu={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hu.isDisabled&&hu.supportsFiber)try{Ci=hu.inject(cu),wi=hu}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lu,t.createPortal=su,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ts;if(0!==(48&n))return e(t);Ts|=1;try{if(e)return qi(99,e.bind(null,t))}finally{Ts=n,Yi()}},t.hydrate=function(e,t,n){if(!au(t))throw Error(o(200));return ou(null,e,t,!0,n)},t.render=function(e,t,n){if(!au(t))throw Error(o(200));return ou(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!au(e))throw Error(o(40));return!!e._reactRootContainer&&(kl((function(){ou(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bl,t.unstable_createPortal=function(e,t){return su(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!au(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ou(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:o.current}}t.jsx=u},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),a=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),o=h("react.provider"),s=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),u=h("react.memo"),c=h("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function m(){}function _(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=v.prototype;var g=_.prototype=new m;g.constructor=_,r(g,v.prototype),g.isPureReactComponent=!0;var b={current:null},k=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function w(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function M(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case a:l=!0}}if(l)return o=o(l=e),e=""===r?"."+S(l,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),M(o,t,n,"",(function(e){return e}))):null!=o&&(w(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+S(s=e[u],u);l+=M(s,t,n,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=M(s=s.value,t,n,c=r+S(s,u++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function O(e,t,n){if(null==e)return e;var r=[],i=0;return M(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var z={current:null};function j(){var e=z.current;if(null===e)throw Error(d(321));return e}var T={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!w(e))throw Error(d(143));return e}},t.Component=v,t.PureComponent=_,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)k.call(t,c)&&!x.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];a.children=u}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=w,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return j().useCallback(e,t)},t.useContext=function(e,t){return j().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return j().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return j().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return j().useLayoutEffect(e,t)},t.useMemo=function(e,t){return j().useMemo(e,t)},t.useReducer=function(e,t,n){return j().useReducer(e,t,n)},t.useRef=function(e){return j().useRef(e)},t.useState=function(e){return j().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(j){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),o=new O(r||[]);return a._invoke=function(e,t,n){var r=h;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return z()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var l=c(e,t,n);if("normal"===l.type){if(r=n.done?p:f,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(j){return{type:"throw",arg:j}}}e.wrap=u;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",y={};function v(){}function m(){}function _(){}var g={};l(g,a,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(D([])));k&&k!==n&&r.call(k,a)&&(g=k);var x=_.prototype=v.prototype=Object.create(g);function C(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(i,a,o,s){var l=c(e[i],e,a);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"===typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(h).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function D(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:z}}function z(){return{value:t,done:!0}}return m.prototype=_,l(x,"constructor",_),l(_,"constructor",m),m.displayName=l(_,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},C(w.prototype),l(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(x),l(x,s,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=D,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,h=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(h,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,v=null,m=-1,_=5,g=0;t.unstable_shouldYield=function(){return t.unstable_now()>=g},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,k=b.port2;b.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();g=e+_;try{v(!0,e)?k.postMessage(null):(y=!1,v=null)}catch(n){throw k.postMessage(null),n}}else y=!1},n=function(e){v=e,y||(y=!0,k.postMessage(null))},r=function(e,n){m=f((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function C(e){return void 0===(e=e[0])?null:e}function w(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,l=e[s];if(void 0!==o&&0>E(o,n))void 0!==l&&0>E(l,o)?(e[r]=l,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==l&&0>E(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],M=[],O=1,D=null,z=3,j=!1,T=!1,P=!1;function R(e){for(var t=C(M);null!==t;){if(null===t.callback)w(M);else{if(!(t.startTime<=e))break;w(M),t.sortIndex=t.expirationTime,x(S,t)}t=C(M)}}function B(e){if(P=!1,R(e),!T)if(null!==C(S))T=!0,n(N);else{var t=C(M);null!==t&&r(B,t.startTime-e)}}function N(e,n){T=!1,P&&(P=!1,i()),j=!0;var a=z;try{for(R(n),D=C(S);null!==D&&(!(D.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=D.callback;if("function"===typeof o){D.callback=null,z=D.priorityLevel;var s=o(D.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?D.callback=s:D===C(S)&&w(S),R(n)}else w(S);D=C(S)}if(null!==D)var l=!0;else{var u=C(M);null!==u&&r(B,u.startTime-n),l=!1}return l}finally{D=null,z=a,j=!1}}var L=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){T||j||(T=!0,n(N))},t.unstable_getCurrentPriorityLevel=function(){return z},t.unstable_getFirstCallbackNode=function(){return C(S)},t.unstable_next=function(e){switch(z){case 1:case 2:case 3:var t=3;break;default:t=z}var n=z;z=t;try{return e()}finally{z=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=L,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=z;z=e;try{return t()}finally{z=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:O++,callback:a,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>s?(e.sortIndex=o,x(M,e),null===C(S)&&e===C(M)&&(P?i():P=!0,r(B,o-s))):(e.sortIndex=l,x(S,e),T||j||(T=!0,n(N))),e},t.unstable_wrapCallback=function(e){var t=z;return function(){var n=z;z=t;try{return e.apply(this,arguments)}finally{z=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=n(791),t=n(164);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var o=function(){function e(e,t){this.color=!0,this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0,this.leftChild=void 0,this.rightChild=void 0,this.key=e,this.value=t}return e.prototype.rotateLeft=function(){var e=this.parent,t=this.brother,n=this.leftChild,r=this.rightChild;if(!r)throw new Error("unknown error");var i=r.leftChild,a=r.rightChild;return e&&(e.leftChild===this?e.leftChild=r:e.rightChild===this&&(e.rightChild=r)),r.parent=e,r.brother=t,r.leftChild=this,r.rightChild=a,t&&(t.brother=r),this.parent=r,this.brother=a,this.leftChild=n,this.rightChild=i,a&&(a.parent=r,a.brother=this),n&&(n.parent=this,n.brother=i),i&&(i.parent=this,i.brother=n),r},e.prototype.rotateRight=function(){var e=this.parent,t=this.brother,n=this.leftChild;if(!n)throw new Error("unknown error");var r=this.rightChild,i=n.leftChild,a=n.rightChild;return e&&(e.leftChild===this?e.leftChild=n:e.rightChild===this&&(e.rightChild=n)),n.parent=e,n.brother=t,n.leftChild=i,n.rightChild=this,t&&(t.brother=n),i&&(i.parent=n,i.brother=this),this.parent=n,this.brother=i,this.leftChild=a,this.rightChild=r,a&&(a.parent=this,a.brother=r),r&&(r.parent=this,r.brother=a),n},e.prototype.remove=function(){if(this.leftChild||this.rightChild)throw new Error("can only remove leaf node");this.parent&&(this===this.parent.leftChild?this.parent.leftChild=void 0:this===this.parent.rightChild&&(this.parent.rightChild=void 0)),this.brother&&(this.brother.brother=void 0),this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0},e.TreeNodeColorType={red:!0,black:!1},e}();Object.freeze(o);var s=o,l=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},u=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function c(e,t){var n=this;void 0===e&&(e=[]),t=t||function(e,t){return e<t?-1:e>t?1:0};var r=0,i=new s;i.color=s.TreeNodeColorType.black,this.size=function(){return r},this.empty=function(){return 0===r},this.clear=function(){r=0,i.key=void 0,i.leftChild=i.rightChild=i.brother=i.parent=void 0,i.color=s.TreeNodeColorType.black};var a=function e(t){if(!t||void 0===t.key)throw new Error("unknown error");return t.leftChild?e(t.leftChild):t},o=function e(t){if(!t||void 0===t.key)throw new Error("unknown error");return t.rightChild?e(t.rightChild):t};this.front=function(){if(!this.empty())return a(i).key},this.back=function(){if(!this.empty())return o(i).key},this.forEach=function(e){var t,n,r=0;try{for(var i=u(this),a=i.next();!a.done;a=i.next()){e(a.value,r++)}}catch(o){t={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},this.getElementByPos=function(e){var t,n;if(e<0||e>=this.size())throw new Error("pos must more than 0 and less than set's size");var r=0;try{for(var i=u(this),a=i.next();!a.done;a=i.next()){var o=a.value;if(r===e)return o;++r}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}throw new Error("unknown error")};var c=function e(t){var n=t.parent;if(!n){if(t===i)return;throw new Error("unknown error")}if(t.color!==s.TreeNodeColorType.red){var r=t.brother;if(!r)throw new Error("unknown error");if(t===n.leftChild){if(r.color===s.TreeNodeColorType.red){r.color=s.TreeNodeColorType.black,n.color=s.TreeNodeColorType.red;var a=n.rotateLeft();i===n&&(i=a),e(t)}else if(r.color===s.TreeNodeColorType.black)if(r.rightChild&&r.rightChild.color===s.TreeNodeColorType.red){r.color=n.color,n.color=s.TreeNodeColorType.black,r.rightChild&&(r.rightChild.color=s.TreeNodeColorType.black);a=n.rotateLeft();i===n&&(i=a),t.color=s.TreeNodeColorType.black}else if(r.rightChild&&r.rightChild.color!==s.TreeNodeColorType.black||!r.leftChild||r.leftChild.color!==s.TreeNodeColorType.red)r.leftChild&&r.leftChild.color!==s.TreeNodeColorType.black||r.rightChild&&r.rightChild.color!==s.TreeNodeColorType.black||(r.color=s.TreeNodeColorType.red,e(n));else{r.color=s.TreeNodeColorType.red,r.leftChild&&(r.leftChild.color=s.TreeNodeColorType.black);a=r.rotateRight();i===r&&(i=a),e(t)}}else if(t===n.rightChild)if(r.color===s.TreeNodeColorType.red){r.color=s.TreeNodeColorType.black,n.color=s.TreeNodeColorType.red;a=n.rotateRight();i===n&&(i=a),e(t)}else if(r.color===s.TreeNodeColorType.black)if(r.leftChild&&r.leftChild.color===s.TreeNodeColorType.red){r.color=n.color,n.color=s.TreeNodeColorType.black,r.leftChild&&(r.leftChild.color=s.TreeNodeColorType.black);a=n.rotateRight();i===n&&(i=a),t.color=s.TreeNodeColorType.black}else if(r.leftChild&&r.leftChild.color!==s.TreeNodeColorType.black||!r.rightChild||r.rightChild.color!==s.TreeNodeColorType.red)r.leftChild&&r.leftChild.color!==s.TreeNodeColorType.black||r.rightChild&&r.rightChild.color!==s.TreeNodeColorType.black||(r.color=s.TreeNodeColorType.red,e(n));else{r.color=s.TreeNodeColorType.red,r.rightChild&&(r.rightChild.color=s.TreeNodeColorType.black);a=r.rotateLeft();i===r&&(i=a),e(t)}}else t.color=s.TreeNodeColorType.black},h=function(e){for(var t=e;t.leftChild||t.rightChild;){if(t.rightChild){t=a(t.rightChild);var n=e.key;e.key=t.key,t.key=n,e=t}if(t.leftChild){t=o(t.leftChild);n=e.key;e.key=t.key,t.key=n,e=t}}c(t),t&&t.remove(),--r,i.color=s.TreeNodeColorType.black},f=function e(t,n){return!(!t||void 0===t.key)&&(!!e(t.leftChild,n)||(!!n(t)||e(t.rightChild,n)))};this.eraseElementByPos=function(e){if(e<0||e>=r)throw new Error("pos must more than 0 and less than set's size");var t=0;f(i,(function(n){return e===t?(h(n),!0):(++t,!1)}))},this.eraseElementByValue=function(e){if(!this.empty()){var n=y(i,e);void 0!==n&&void 0!==n.key&&0===t(n.key,e)&&h(n)}};var d=function e(n,r){if(!n||void 0===n.key)throw new Error("unknown error");var i=t(r,n.key);return i<0?n.leftChild?e(n.leftChild,r):(n.leftChild=new s,n.leftChild.parent=n,n.leftChild.brother=n.rightChild,n.rightChild&&(n.rightChild.brother=n.leftChild),n.leftChild):i>0?n.rightChild?e(n.rightChild,r):(n.rightChild=new s,n.rightChild.parent=n,n.rightChild.brother=n.leftChild,n.leftChild&&(n.leftChild.brother=n.rightChild),n.rightChild):n},p=function e(t){var n=t.parent;if(!n){if(t===i)return;throw new Error("unknown error")}if(n.color!==s.TreeNodeColorType.black&&n.color===s.TreeNodeColorType.red){var r=n.brother,a=n.parent;if(!a)throw new Error("unknown error");if(r&&r.color===s.TreeNodeColorType.red)r.color=n.color=s.TreeNodeColorType.black,a.color=s.TreeNodeColorType.red,e(a);else if(!r||r.color===s.TreeNodeColorType.black)if(n===a.leftChild){if(t===n.leftChild){n.color=s.TreeNodeColorType.black,a.color=s.TreeNodeColorType.red;var o=a.rotateRight();a===i&&(i=o)}else if(t===n.rightChild){o=n.rotateLeft();a===i&&(i=o),e(n)}}else if(n===a.rightChild)if(t===n.leftChild){o=n.rotateRight();a===i&&(i=o),e(n)}else if(t===n.rightChild){n.color=s.TreeNodeColorType.black,a.color=s.TreeNodeColorType.red;o=a.rotateLeft();a===i&&(i=o)}}};this.insert=function(e){if(null===e||void 0===e)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(this.empty())return++r,i.key=e,void(i.color=s.TreeNodeColorType.black);var n=d(i,e);void 0!==n.key&&0===t(n.key,e)||(++r,n.key=e,p(n),i.color=s.TreeNodeColorType.black)};var y=function e(n,r){if(n&&void 0!==n.key){var i=t(r,n.key);return i<0?e(n.leftChild,r):i>0?e(n.rightChild,r):n}};this.find=function(e){var n=y(i,e);return void 0!==n&&void 0!==n.key&&0===t(n.key,e)};var v=function e(n,r){if(n&&void 0!==n.key){var i=t(n.key,r);if(0===i)return n.key;if(i<0)return e(n.rightChild,r);var a=e(n.leftChild,r);return void 0!==a?a:n.key}};this.lowerBound=function(e){return v(i,e)};var m=function e(n,r){if(n&&void 0!==n.key){if(t(n.key,r)<=0)return e(n.rightChild,r);var i=e(n.leftChild,r);return void 0!==i?i:n.key}};this.upperBound=function(e){return m(i,e)};var _=function e(n,r){if(n&&void 0!==n.key){var i=t(n.key,r);if(0===i)return n.key;if(i>0)return e(n.leftChild,r);var a=e(n.rightChild,r);return void 0!==a?a:n.key}};this.reverseLowerBound=function(e){return _(i,e)};var g=function e(n,r){if(n&&void 0!==n.key){if(t(n.key,r)>=0)return e(n.leftChild,r);var i=e(n.rightChild,r);return void 0!==i?i:n.key}};this.reverseUpperBound=function(e){return g(i,e)},this.union=function(e){var t=this;e.forEach((function(e){return t.insert(e)}))},this.getHeight=function(){if(this.empty())return 0;return function e(t){return t?Math.max(e(t.leftChild),e(t.rightChild))+1:1}(i)};var b=function e(t){return l(this,(function(n){switch(n.label){case 0:return t&&void 0!==t.key?[5,u(e(t.leftChild))]:[2];case 1:return n.sent(),[4,t.key];case 2:return n.sent(),[5,u(e(t.rightChild))];case 3:return n.sent(),[2]}}))};this[Symbol.iterator]=function(){return b(i)},e.forEach((function(e){return n.insert(e)})),Object.freeze(this)}Object.freeze(c);var h=c,f=function(){function e(t){r(this,e),this._currentCameraInfo=null,this._cameraInfoMap=new Map,this._cameraQueue=new h(void 0,(function(e,t){return e.info.priority===t.info.priority?e.camera.id-t.camera.id:e.info.priority-t.info.priority})),this._onChangeBackgroundColor=t}return a(e,[{key:"camera",get:function(){var e,t;return null!==(t=null===(e=this._currentCameraInfo)||void 0===e?void 0:e.camera)&&void 0!==t?t:null}},{key:"currentCameraPriority",get:function(){var e,t;return null!==(t=null===(e=this._currentCameraInfo)||void 0===e?void 0:e.info.priority)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}},{key:"addCamera",value:function(e,t){this._cameraInfoMap.set(e,t),this._cameraQueue.insert({camera:e,info:t}),this.setCamera()}},{key:"removeCamera",value:function(e){var t=this._cameraInfoMap.get(e);t&&(this._cameraQueue.eraseElementByValue({camera:e,info:t}),this._cameraInfoMap.delete(e),this.setCamera())}},{key:"changeCameraPriority",value:function(e,t){var n=this._cameraInfoMap.get(e);n&&(this._cameraQueue.eraseElementByValue({camera:e,info:n}),n.priority=t,this._cameraQueue.insert({camera:e,info:n}),this.setCamera())}},{key:"changeCameraBackgroundColor",value:function(e,t){var n,r=this._cameraInfoMap.get(e);r&&(r.backgroundColor=t,(null===(n=this._currentCameraInfo)||void 0===n?void 0:n.camera)===e&&this._onChangeBackgroundColor(t))}},{key:"setCamera",value:function(){if(0!==this._cameraQueue.size()){var e=this._cameraQueue.front();e?(this._currentCameraInfo=e,this._onChangeBackgroundColor(this._currentCameraInfo.info.backgroundColor)):this._currentCameraInfo=null}else this._currentCameraInfo=null}}]),e}(),d=function(){function e(t){r(this,e),this._onKeyDownDelegates=[],this._onKeyUpDelegates=[],this._onWheelDelegates=[],this._onPointerDownDelegates=[],this._onPointerUpDelegates=[],this._onPointerEnterDelegates=[],this._onPointerLeaveDelegates=[],this._onPointerMoveDelegates=[],this._touchMoveOccured=!1,this._onTouchStartFunc=null,this._lastMouseDownEvent=null,this._lastMouseEnterEvent=null,this._handleKeyDownBind=this.handleKeyDown.bind(this),this._handleKeyUpBind=this.handleKeyUp.bind(this),this._handleWheelBind=this.handleWheel.bind(this),this._handleMouseDownBind=this.handleMouseDown.bind(this),this._handleMouseUpBind=this.handleMouseUp.bind(this),this._handleMouseEnterBind=this.handleMouseEnter.bind(this),this._handleMouseLeaveBind=this.handleMouseLeave.bind(this),this._handleMouseMoveBind=this.handleMouseMove.bind(this),this._handleTouchStartBind=this.handleTouchStart.bind(this),this._handleTouchEndBind=this.handleTouchEnd.bind(this),this._handleTouchMoveBind=this.handleTouchMove.bind(this),this._handleTouchCancelBind=this.handleTouchCancel.bind(this),this._map=new Map,this._isDisposed=!1,this._renderTargetDom=t}return a(e,[{key:"map",get:function(){return this._map}},{key:"dispose",value:function(){this.stopHandleEvents(),this._isDisposed=!0}},{key:"startHandleEvents",value:function(){if(this._isDisposed)throw new Error("InputHandler is disposed.");window.addEventListener("keydown",this._handleKeyDownBind),window.addEventListener("keyup",this._handleKeyUpBind),window.addEventListener("wheel",this._handleWheelBind),this._renderTargetDom.addEventListener("mousedown",this._handleMouseDownBind),this._renderTargetDom.addEventListener("mouseup",this._handleMouseUpBind),this._renderTargetDom.addEventListener("mouseenter",this._handleMouseEnterBind),this._renderTargetDom.addEventListener("mouseleave",this._handleMouseLeaveBind),this._renderTargetDom.addEventListener("mousemove",this._handleMouseMoveBind),this._renderTargetDom.addEventListener("touchstart",this._handleTouchStartBind),this._renderTargetDom.addEventListener("touchend",this._handleTouchEndBind),this._renderTargetDom.addEventListener("touchmove",this._handleTouchMoveBind),this._renderTargetDom.addEventListener("touchcancel",this._handleTouchCancelBind)}},{key:"stopHandleEvents",value:function(){this._lastMouseDownEvent&&this.handleMouseUp(this._lastMouseDownEvent),this._lastMouseEnterEvent&&this.handleMouseLeave(this._lastMouseEnterEvent),this._map.clear(),window.removeEventListener("keydown",this._handleKeyDownBind),window.removeEventListener("keyup",this._handleKeyUpBind),window.removeEventListener("wheel",this._handleWheelBind),this._renderTargetDom.removeEventListener("mousedown",this._handleMouseDownBind),this._renderTargetDom.removeEventListener("mouseup",this._handleMouseUpBind),this._renderTargetDom.removeEventListener("mouseenter",this._handleMouseEnterBind),this._renderTargetDom.removeEventListener("mouseleave",this._handleMouseLeaveBind),this._renderTargetDom.removeEventListener("mousemove",this._handleMouseMoveBind),this._renderTargetDom.removeEventListener("touchstart",this._handleTouchStartBind),this._renderTargetDom.removeEventListener("touchend",this._handleTouchEndBind),this._renderTargetDom.removeEventListener("touchmove",this._handleTouchMoveBind),this._renderTargetDom.removeEventListener("touchcancel",this._handleTouchCancelBind)}},{key:"simulateMouseEvent",value:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,detail:1,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null});t.target.dispatchEvent(n)}},{key:"handleKeyDown",value:function(e){this._map.set(e.key,!0),this._onKeyDownDelegates.forEach((function(t){return t(e)}))}},{key:"handleKeyUp",value:function(e){this._map.set(e.key,!1),this._onKeyUpDelegates.forEach((function(t){return t(e)}))}},{key:"handleWheel",value:function(e){this._onWheelDelegates.forEach((function(t){return t(e)}))}},{key:"handleMouseDown",value:function(e){this._lastMouseDownEvent=e,this._onPointerDownDelegates.forEach((function(t){return t(e)}))}},{key:"handleMouseUp",value:function(e){this._lastMouseDownEvent=null,this._onPointerUpDelegates.forEach((function(t){return t(e)}))}},{key:"handleMouseEnter",value:function(e){this._lastMouseEnterEvent=e,this._onPointerEnterDelegates.forEach((function(t){return t(e)}))}},{key:"handleMouseLeave",value:function(e){this._lastMouseEnterEvent=null,this._onPointerLeaveDelegates.forEach((function(t){return t(e)}))}},{key:"handleMouseMove",value:function(e){this._lastMouseDownEvent=e,this._onPointerMoveDelegates.forEach((function(t){return t(e)}))}},{key:"handleTouchStart",value:function(e){var t=this;this._onTouchStartFunc=function(){t.simulateMouseEvent("mouseenter",e.touches[0]),t.simulateMouseEvent("mousedown",e.touches[0])}}},{key:"handleTouchEnd",value:function(e){this._touchMoveOccured&&(this._touchMoveOccured=!1,this.simulateMouseEvent("mouseup",e.changedTouches[0]),this.simulateMouseEvent("mouseleave",e.changedTouches[0]))}},{key:"handleTouchMove",value:function(e){this._onTouchStartFunc&&(this._onTouchStartFunc(),this._onTouchStartFunc=null),this.simulateMouseEvent("mousemove",e.touches[0]),this._touchMoveOccured=!0}},{key:"handleTouchCancel",value:function(e){this._touchMoveOccured&&(this._touchMoveOccured=!1,this.simulateMouseEvent("mouseleave",e.changedTouches[0]))}},{key:"addOnKeyDownEventListener",value:function(e){this._onKeyDownDelegates.push(e)}},{key:"addOnKeyUpEventListener",value:function(e){this._onKeyUpDelegates.push(e)}},{key:"addOnWheelEventListener",value:function(e){this._onWheelDelegates.push(e)}},{key:"addOnPointerDownEventListener",value:function(e){this._onPointerDownDelegates.push(e)}},{key:"addOnPointerUpEventListener",value:function(e){this._onPointerUpDelegates.push(e)}},{key:"addOnPointerEnterEventListener",value:function(e){this._onPointerEnterDelegates.push(e)}},{key:"addOnPointerLeaveEventListener",value:function(e){this._onPointerLeaveDelegates.push(e)}},{key:"addOnPointerMoveEventListener",value:function(e){this._onPointerMoveDelegates.push(e)}},{key:"removeOnKeyDownEventListener",value:function(e){var t=this._onKeyDownDelegates.indexOf(e);-1!==t&&this._onKeyDownDelegates.splice(t,1)}},{key:"removeOnKeyUpEventListener",value:function(e){var t=this._onKeyUpDelegates.indexOf(e);-1!==t&&this._onKeyUpDelegates.splice(t,1)}},{key:"removeOnWheelEventListener",value:function(e){var t=this._onWheelDelegates.indexOf(e);-1!==t&&this._onWheelDelegates.splice(t,1)}},{key:"removeOnPointerDownEventListener",value:function(e){var t=this._onPointerDownDelegates.indexOf(e);-1!==t&&this._onPointerDownDelegates.splice(t,1)}},{key:"removeOnPointerUpEventListener",value:function(e){var t=this._onPointerUpDelegates.indexOf(e);-1!==t&&this._onPointerUpDelegates.splice(t,1)}},{key:"removeOnPointerEnterEventListener",value:function(e){var t=this._onPointerEnterDelegates.indexOf(e);-1!==t&&this._onPointerEnterDelegates.splice(t,1)}},{key:"removeOnPointerLeaveEventListener",value:function(e){var t=this._onPointerLeaveDelegates.indexOf(e);-1!==t&&this._onPointerLeaveDelegates.splice(t,1)}},{key:"removeOnPointerMoveEventListener",value:function(e){var t=this._onPointerMoveDelegates.indexOf(e);-1!==t&&this._onPointerMoveDelegates.splice(t,1)}}]),e}();function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function v(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){if(t&&("object"===b(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}for(var w=n(757),E=n.n(w),S=[],M=0;M<256;M++)S[M]=(M<16?"0":"")+M.toString(16);var O=Math.PI/180,D=180/Math.PI;function z(e,t,n){return Math.max(t,Math.min(n,e))}var j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;r(this,e),this._x=t,this._y=n,this._z=i,this._w=a}return a(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(r/2),c=o(i/2),h=s(n/2),f=s(r/2),d=s(i/2);switch(a){case"XYZ":this._x=h*u*c+l*f*d,this._y=l*f*c-h*u*d,this._z=l*u*d+h*f*c,this._w=l*u*c-h*f*d;break;case"YXZ":this._x=h*u*c+l*f*d,this._y=l*f*c-h*u*d,this._z=l*u*d-h*f*c,this._w=l*u*c+h*f*d;break;case"ZXY":this._x=h*u*c-l*f*d,this._y=l*f*c+h*u*d,this._z=l*u*d+h*f*c,this._w=l*u*c-h*f*d;break;case"ZYX":this._x=h*u*c-l*f*d,this._y=l*f*c+h*u*d,this._z=l*u*d-h*f*c,this._w=l*u*c+h*f*d;break;case"YZX":this._x=h*u*c+l*f*d,this._y=l*f*c+h*u*d,this._z=l*u*d-h*f*c,this._w=l*u*c-h*f*d;break;case"XZY":this._x=h*u*c-l*f*d,this._y=l*f*c-h*u*d,this._z=l*u*d+h*f*c,this._w=l*u*c+h*f*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],u=t[6],c=t[10],h=n+o+c;if(h>0){var f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(u-s)*f,this._y=(i-l)*f,this._z=(a-r)*f}else if(n>o&&n>c){var d=2*Math.sqrt(1+n-o-c);this._w=(u-s)/d,this._x=.25*d,this._y=(r+a)/d,this._z=(i+l)/d}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(i-l)/p,this._x=(r+a)/p,this._y=.25*p,this._z=(s+u)/p}else{var y=2*Math.sqrt(1+c-n-o);this._w=(a-r)/y,this._x=(i+l)/y,this._y=(s+u)/y,this._z=.25*y}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(z(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+a*o+r*l-i*s,this._y=r*u+a*s+i*o-n*l,this._z=i*u+a*l+n*s-r*o,this._w=a*u-n*o-r*s-i*l,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-t;return this._w=l*a+t*this._w,this._x=l*n+t*this._x,this._y=l*r+t*this._y,this._z=l*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,o),h=Math.sin((1-t)*c)/u,f=Math.sin(t*c)/u;return this._w=a*h+this._w*f,this._x=n*h+this._x*f,this._y=r*h+this._y*f,this._z=i*h+this._z*f,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}],[{key:"slerp",value:function(e,t,n,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(e,t,r)}},{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],h=i[a+0],f=i[a+1],d=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=u,void(e[t+3]=c);if(1===o)return e[t+0]=h,e[t+1]=f,e[t+2]=d,void(e[t+3]=p);if(c!==p||s!==h||l!==f||u!==d){var y=1-o,v=s*h+l*f+u*d+c*p,m=v>=0?1:-1,_=1-v*v;if(_>Number.EPSILON){var g=Math.sqrt(_),b=Math.atan2(g,v*m);y=Math.sin(y*b)/g,o=Math.sin(o*b)/g}var k=o*m;if(s=s*y+h*k,l=l*y+f*k,u=u*y+d*k,c=c*y+p*k,y===1-o){var x=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=x,l*=x,u*=x,c*=x}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],l=n[r+2],u=n[r+3],c=i[a],h=i[a+1],f=i[a+2],d=i[a+3];return e[t]=o*d+u*c+s*f-l*h,e[t+1]=s*d+u*h+l*c-o*f,e[t+2]=l*d+u*f+o*h-s*c,e[t+3]=u*d-o*c-s*h-l*f,e}}]),e}();j.prototype.isQuaternion=!0;var T=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;r(this,t),this.x=e,this.y=n,this.z=i}return a(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(R.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(R.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*r-o*n,u=s*n+o*t-i*r,c=s*r+i*n-a*t,h=-i*t-a*n-o*r;return this.x=l*s+h*-i+u*-o-c*-a,this.y=u*s+h*-a+c*-i-l*-o,this.z=c*s+h*-o+l*-a-u*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return P.copy(this).projectOnVector(e),this.sub(P)}},{key:"reflect",value:function(e){return this.sub(P.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(z(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:Symbol.iterator,value:w.mark((function e(){return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}();T.prototype.isVector3=!0;var P=new T,R=new j,B=function(){function e(){r(this,e),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return a(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,l,u,c,h,f,d,p,y){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=a,v[9]=o,v[13]=s,v[2]=l,v[6]=u,v[10]=c,v[14]=h,v[3]=f,v[7]=d,v[11]=p,v[15]=y,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/N.setFromMatrixColumn(e,0).length(),i=1/N.setFromMatrixColumn(e,1).length(),a=1/N.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var h=a*u,f=a*c,d=o*u,p=o*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=f+d*l,t[5]=h-p*l,t[9]=-o*s,t[2]=p-h*l,t[6]=d+f*l,t[10]=a*s}else if("YXZ"===e.order){var y=s*u,v=s*c,m=l*u,_=l*c;t[0]=y+_*o,t[4]=m*o-v,t[8]=a*l,t[1]=a*c,t[5]=a*u,t[9]=-o,t[2]=v*o-m,t[6]=_+y*o,t[10]=a*s}else if("ZXY"===e.order){var g=s*u,b=s*c,k=l*u,x=l*c;t[0]=g-x*o,t[4]=-a*c,t[8]=k+b*o,t[1]=b+k*o,t[5]=a*u,t[9]=x-g*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var C=a*u,w=a*c,E=o*u,S=o*c;t[0]=s*u,t[4]=E*l-w,t[8]=C*l+S,t[1]=s*c,t[5]=S*l+C,t[9]=w*l-E,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var M=a*s,O=a*l,D=o*s,z=o*l;t[0]=s*u,t[4]=z-M*c,t[8]=D*c+O,t[1]=c,t[5]=a*u,t[9]=-o*u,t[2]=-l*u,t[6]=O*c+D,t[10]=M-z*c}else if("XZY"===e.order){var j=a*s,T=a*l,P=o*s,R=o*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=j*c+R,t[5]=a*u,t[9]=T*c-P,t[2]=P*c-T,t[6]=o*u,t[10]=R*c+j}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(F,e,I)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return U.subVectors(e,t),0===U.lengthSq()&&(U.z=1),U.normalize(),W.crossVectors(n,U),0===W.lengthSq()&&(1===Math.abs(n.z)?U.x+=1e-4:U.z+=1e-4,U.normalize(),W.crossVectors(n,U)),W.normalize(),A.crossVectors(U,W),r[0]=W.x,r[4]=A.x,r[8]=U.x,r[1]=W.y,r[5]=A.y,r[9]=U.y,r[2]=W.z,r[6]=A.z,r[10]=U.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],h=n[9],f=n[13],d=n[2],p=n[6],y=n[10],v=n[14],m=n[3],_=n[7],g=n[11],b=n[15],k=r[0],x=r[4],C=r[8],w=r[12],E=r[1],S=r[5],M=r[9],O=r[13],D=r[2],z=r[6],j=r[10],T=r[14],P=r[3],R=r[7],B=r[11],N=r[15];return i[0]=a*k+o*E+s*D+l*P,i[4]=a*x+o*S+s*z+l*R,i[8]=a*C+o*M+s*j+l*B,i[12]=a*w+o*O+s*T+l*N,i[1]=u*k+c*E+h*D+f*P,i[5]=u*x+c*S+h*z+f*R,i[9]=u*C+c*M+h*j+f*B,i[13]=u*w+c*O+h*T+f*N,i[2]=d*k+p*E+y*D+v*P,i[6]=d*x+p*S+y*z+v*R,i[10]=d*C+p*M+y*j+v*B,i[14]=d*w+p*O+y*T+v*N,i[3]=m*k+_*E+g*D+b*P,i[7]=m*x+_*S+g*z+b*R,i[11]=m*C+_*M+g*j+b*B,i[15]=m*w+_*O+g*T+b*N,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],u=e[2],c=e[6],h=e[10],f=e[14];return e[3]*(+i*s*c-r*l*c-i*o*h+n*l*h+r*o*f-n*s*f)+e[7]*(+t*s*f-t*l*h+i*a*h-r*a*f+r*l*u-i*s*u)+e[11]*(+t*l*c-t*o*f-i*a*c+n*a*f+i*o*u-n*l*u)+e[15]*(-r*o*u-t*s*c+t*o*h+r*a*c-n*a*h+n*s*u)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],h=e[10],f=e[11],d=e[12],p=e[13],y=e[14],v=e[15],m=c*y*l-p*h*l+p*s*f-o*y*f-c*s*v+o*h*v,_=d*h*l-u*y*l-d*s*f+a*y*f+u*s*v-a*h*v,g=u*p*l-d*c*l+d*o*f-a*p*f-u*o*v+a*c*v,b=d*c*s-u*p*s-d*o*h+a*p*h+u*o*y-a*c*y,k=t*m+n*_+r*g+i*b;if(0===k)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var x=1/k;return e[0]=m*x,e[1]=(p*h*i-c*y*i-p*r*f+n*y*f+c*r*v-n*h*v)*x,e[2]=(o*y*i-p*s*i+p*r*l-n*y*l-o*r*v+n*s*v)*x,e[3]=(c*s*i-o*h*i-c*r*l+n*h*l+o*r*f-n*s*f)*x,e[4]=_*x,e[5]=(u*y*i-d*h*i+d*r*f-t*y*f-u*r*v+t*h*v)*x,e[6]=(d*s*i-a*y*i-d*r*l+t*y*l+a*r*v-t*s*v)*x,e[7]=(a*h*i-u*s*i+u*r*l-t*h*l-a*r*f+t*s*f)*x,e[8]=g*x,e[9]=(d*c*i-u*p*i-d*n*f+t*p*f+u*n*v-t*c*v)*x,e[10]=(a*p*i-d*o*i+d*n*l-t*p*l-a*n*v+t*o*v)*x,e[11]=(u*o*i-a*c*i-u*n*l+t*c*l+a*n*f-t*o*f)*x,e[12]=b*x,e[13]=(u*p*r-d*c*r+d*n*h-t*p*h-u*n*y+t*c*y)*x,e[14]=(d*o*r-a*p*r-d*n*s+t*p*s+a*n*y-t*o*y)*x,e[15]=(a*c*r-u*o*r+u*n*s-t*c*s-a*n*h+t*o*h)*x,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,u=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,u*o+n,u*s-r*a,0,l*s-r*o,u*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,u=a+a,c=o+o,h=i*l,f=i*u,d=i*c,p=a*u,y=a*c,v=o*c,m=s*l,_=s*u,g=s*c,b=n.x,k=n.y,x=n.z;return r[0]=(1-(p+v))*b,r[1]=(f+g)*b,r[2]=(d-_)*b,r[3]=0,r[4]=(f-g)*k,r[5]=(1-(h+v))*k,r[6]=(y+m)*k,r[7]=0,r[8]=(d+_)*x,r[9]=(y-m)*x,r[10]=(1-(h+p))*x,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=N.set(r[0],r[1],r[2]).length(),a=N.set(r[4],r[5],r[6]).length(),o=N.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],L.copy(this);var s=1/i,l=1/a,u=1/o;return L.elements[0]*=s,L.elements[1]*=s,L.elements[2]*=s,L.elements[4]*=l,L.elements[5]*=l,L.elements[6]*=l,L.elements[8]*=u,L.elements[9]*=u,L.elements[10]*=u,t.setFromRotationMatrix(L),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*i/(t-e),l=2*i/(n-r),u=(t+e)/(t-e),c=(n+r)/(n-r),h=-(a+i)/(a-i),f=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=l,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=f,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o=this.elements,s=1/(t-e),l=1/(n-r),u=1/(a-i),c=(t+e)*s,h=(n+r)*l,f=(a+i)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-f,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}();B.prototype.isMatrix4=!0;var N=new T,L=new B,F=new T(0,0,0),I=new T(1,1,1),W=new T,A=new T,U=new T,G=function(){function e(){r(this,e)}return a(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),V=new B,H=new j,q=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DefaultOrder;r(this,e),this._x=t,this._y=n,this._z=i,this._order=a}return a(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],l=r[5],u=r[9],c=r[2],h=r[6],f=r[10];switch(t){case"XYZ":this._y=Math.asin(z(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-z(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(z(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-c,f),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-z(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(z(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-z(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return V.makeRotationFromQuaternion(e),this.setFromRotationMatrix(V,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return H.setFromEuler(this),this.setFromQuaternion(H,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}]),e}();q.prototype.isEuler=!0,q.DefaultOrder="XYZ",q.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var Q=function(){function e(){r(this,e),this.mask=1}return a(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}(),Y=function(){function e(){r(this,e),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return a(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,l){var u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],h=n[2],f=n[5],d=n[8],p=r[0],y=r[3],v=r[6],m=r[1],_=r[4],g=r[7],b=r[2],k=r[5],x=r[8];return i[0]=a*p+o*m+s*b,i[3]=a*y+o*_+s*k,i[6]=a*v+o*g+s*x,i[1]=l*p+u*m+c*b,i[4]=l*y+u*_+c*k,i[7]=l*v+u*g+c*x,i[2]=h*p+f*m+d*b,i[5]=h*y+f*_+d*k,i[8]=h*v+f*g+d*x,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*a*u-t*o*l-n*i*u+n*o*s+r*i*l-r*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=u*a-o*l,h=o*s-u*i,f=l*i-a*s,d=t*c+n*h+r*f;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);var p=1/d;return e[0]=c*p,e[1]=(r*l-u*n)*p,e[2]=(o*n-r*a)*p,e[3]=h*p,e[4]=(u*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=f*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],a=r[3],o=r[6],s=r[1],l=r[4],u=r[7];return r[0]=t*i+n*s,r[3]=t*a+n*l,r[6]=t*o+n*u,r[1]=-n*i+t*s,r[4]=-n*a+t*l,r[7]=-n*o+t*u,this}},{key:"translate",value:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}();Y.prototype.isMatrix3=!0;var X=0,Z=new T,$=new j,K=new B,J=new T,ee=new T,te=new T,ne=new j,re=new T(1,0,0),ie=new T(0,1,0),ae=new T(0,0,1),oe={type:"added"},se={type:"removed"},le=function(e){_(n,e);var t=C(n);function n(){var e;r(this,n),e=t.call(this),Object.defineProperty(k(e),"id",{value:X++}),e.uuid=function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(S[255&e]+S[e>>8&255]+S[e>>16&255]+S[e>>24&255]+"-"+S[255&t]+S[t>>8&255]+"-"+S[t>>16&15|64]+S[t>>24&255]+"-"+S[63&n|128]+S[n>>8&255]+"-"+S[n>>16&255]+S[n>>24&255]+S[255&r]+S[r>>8&255]+S[r>>16&255]+S[r>>24&255]).toUpperCase()}(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DefaultUp.clone();var i=new T,a=new q,o=new j,s=new T(1,1,1);return a._onChange((function(){o.setFromEuler(a,!1)})),o._onChange((function(){a.setFromQuaternion(o,void 0,!1)})),Object.defineProperties(k(e),{position:{configurable:!0,enumerable:!0,value:i},rotation:{configurable:!0,enumerable:!0,value:a},quaternion:{configurable:!0,enumerable:!0,value:o},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new B},normalMatrix:{value:new Y}}),e.matrix=new B,e.matrixWorld=new B,e.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,e.matrixWorldNeedsUpdate=!1,e.layers=new Q,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return a(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return $.setFromAxisAngle(e,t),this.quaternion.multiply($),this}},{key:"rotateOnWorldAxis",value:function(e,t){return $.setFromAxisAngle(e,t),this.quaternion.premultiply($),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(re,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(ie,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(ae,e)}},{key:"translateOnAxis",value:function(e,t){return Z.copy(e).applyQuaternion(this.quaternion),this.position.add(Z.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(re,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(ie,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(ae,e)}},{key:"localToWorld",value:function(e){return e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return e.applyMatrix4(K.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?J.copy(e):J.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),ee.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?K.lookAt(ee,J,this.up):K.lookAt(J,ee,this.up),this.quaternion.setFromRotationMatrix(K),r&&(K.extractRotation(r.matrixWorld),$.setFromRotationMatrix(K),this.quaternion.premultiply($.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(oe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(se)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(se)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),K.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),K.multiply(e.parent.matrixWorld)),e.applyMatrix4(K),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ee,e,te),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ee,ne,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++)r[i].updateWorldMatrix(!1,!0)}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var u=o[s];i(e.shapes,u)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],h=0,f=this.material.length;h<f;h++)c.push(i(e.materials,this.material[h]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var d=0;d<this.children.length;d++)r.children.push(this.children[d].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var y=this.animations[p];r.animations.push(i(e.animations,y))}}if(t){var v=w(e.geometries),m=w(e.materials),_=w(e.textures),g=w(e.images),b=w(e.shapes),k=w(e.skeletons),x=w(e.animations),C=w(e.nodes);v.length>0&&(n.geometries=v),m.length>0&&(n.materials=m),_.length>0&&(n.textures=_),g.length>0&&(n.images=g),b.length>0&&(n.shapes=b),k.length>0&&(n.skeletons=k),x.length>0&&(n.animations=x),C.length>0&&(n.nodes=C)}return n.object=r,n;function w(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(G);function ue(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}function ce(){return ce="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ue(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ce.apply(this,arguments)}le.DefaultUp=new T(0,1,0),le.DefaultMatrixAutoUpdate=!0,le.prototype.isObject3D=!0;var he=function(e){_(n,e);var t=C(n);function n(){var e;return r(this,n),(e=t.call(this)).type="Scene",e.background=null,e.environment=null,e.fog=null,e.overrideMaterial=null,e.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:k(e)})),e}return a(n,[{key:"copy",value:function(e,t){return ce(g(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=ce(g(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}]),n}(le);he.prototype.isScene=!0;var fe=function(e){_(n,e);var t=C(n);function n(){var e;return r(this,n),(e=t.call(this)).matrixAutoUpdate=!1,e.autoUpdate=!1,e}return a(n,[{key:"addChildFromBuilder",value:function(e){var t=e.build(null);return e.processEvent(),t}}]),n}(he),de=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;r(this,t),this.isVector3=!0,this._x=e,this._y=n,this._z=i,this._onBeforeChangeCallback=function(){},this._onBeforeGetComponentCallback=function(){}}return a(t,[{key:"onBeforeChange",value:function(e){this._onBeforeChangeCallback=e}},{key:"onBeforeGetComponent",value:function(e){this._onBeforeGetComponentCallback=e}},{key:"x",get:function(){return this._onBeforeGetComponentCallback(),this._x},set:function(e){this._x!==e&&(this._onBeforeChangeCallback(),this._x=e)}},{key:"y",get:function(){return this._onBeforeGetComponentCallback(),this._y},set:function(e){this._y!==e&&(this._onBeforeChangeCallback(),this._y=e)}},{key:"z",get:function(){return this._onBeforeGetComponentCallback(),this._z},set:function(e){this._z!==e&&(this._onBeforeChangeCallback(),this._z=e)}},{key:"set",value:function(e,t,n){return void 0===n&&(this._onBeforeGetComponentCallback(),n=this._z),this._x===e&&this._y===t&&this._z===n||(this._onBeforeChangeCallback(),this._x=e,this._y=t,this._z=n),this}},{key:"setScalar",value:function(e){return this._x===e&&this._y===e&&this._z===e||(this._onBeforeChangeCallback(),this._x=e,this._y=e,this._z=e),this}},{key:"setX",value:function(e){return this._x===e||(this._onBeforeChangeCallback(),this._x=e),this}},{key:"setY",value:function(e){return this._y===e||(this._onBeforeChangeCallback(),this._y=e),this}},{key:"setZ",value:function(e){return this._z===e||(this._onBeforeChangeCallback(),this._z=e),this}},{key:"setComponent",value:function(e,t){switch(e){case 0:if(this._x===t)return this;this._onBeforeChangeCallback(),this._x=t;break;case 1:if(this._y===t)return this;this._onBeforeChangeCallback(),this._y=t;break;case 2:if(this._z===t)return this;this._onBeforeChangeCallback(),this._z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(this._onBeforeGetComponentCallback(),e){case 0:return this._x;case 1:return this._y;case 2:return this._z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return this._onBeforeGetComponentCallback(),new T(this._x,this._y,this._z)}},{key:"copy",value:function(e){return this._x===e.x&&this._y===e.y&&this._z===e.z||(this._onBeforeChangeCallback(),this._x=e.x,this._y=e.y,this._z=e.z),this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(0===e.x&&0===e.y&&0===e.z||(this._onBeforeGetComponentCallback(),this._onBeforeChangeCallback(),this._x+=e.x,this._y+=e.y,this._z+=e.z),this)}},{key:"addScalar",value:function(e){return 0===e||(this._onBeforeGetComponentCallback(),this._onBeforeChangeCallback(),this._x+=e,this._y+=e,this._z+=e),this}},{key:"addVectors",value:function(e,t){return this._onBeforeChangeCallback(),this._x=e.x+t.x,this._y=e.y+t.y,this._z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this._onBeforeGetComponentCallback(),this._onBeforeChangeCallback(),this._x+=e.x*t,this._y+=e.y*t,this._z+=e.z*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(0===e.x&&0===e.y&&0===e.z||(this._onBeforeGetComponentCallback(),this._onBeforeChangeCallback(),this._x-=e.x,this._y-=e.y,this._z-=e.z),this)}},{key:"subScalar",value:function(e){return 0===e||(this._onBeforeGetComponentCallback(),this._onBeforeChangeCallback(),this._x-=e,this._y-=e,this._z-=e),this}},{key:"subVectors",value:function(e,t){return this._onBeforeChangeCallback(),this._x=e.x-t.x,this._y=e.y-t.y,this._z=e.z-t.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(1===e.x&&1===e.y&&1===e.z||(this._onBeforeGetComponentCallback(),this._onBeforeChangeCallback(),this._x*=e.x,this._y*=e.y,this._z*=e.z),this)}},{key:"multiplyScalar",value:function(e){return 1===e||(this._onBeforeGetComponentCallback(),this._onBeforeChangeCallback(),this._x*=e,this._y*=e,this._z*=e),this}},{key:"multiplyVectors",value:function(e,t){return this._onBeforeChangeCallback(),this._x=e.x*t.x,this._y=e.y*t.y,this._z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(ye.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(ye.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){this._onBeforeGetComponentCallback();var t=this._x,n=this._y,r=this._z,i=e.elements;return this._onBeforeChangeCallback(),this._x=i[0]*t+i[3]*n+i[6]*r,this._y=i[1]*t+i[4]*n+i[7]*r,this._z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){this._onBeforeGetComponentCallback();var t=this._x,n=this._y,r=this._z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this._onBeforeChangeCallback(),this._x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this._y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this._z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){this._onBeforeGetComponentCallback();var t=this._x,n=this._y,r=this._z,i=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*r-o*n,u=s*n+o*t-i*r,c=s*r+i*n-a*t,h=-i*t-a*n-o*r;return this._onBeforeChangeCallback(),this._x=l*s+h*-i+u*-o-c*-a,this._y=u*s+h*-a+c*-i-l*-o,this._z=c*s+h*-o+l*-a-u*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){this._onBeforeGetComponentCallback();var t=this._x,n=this._y,r=this._z,i=e.elements;return this._onBeforeChangeCallback(),this._x=i[0]*t+i[4]*n+i[8]*r,this._y=i[1]*t+i[5]*n+i[9]*r,this._z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return 1===e.x&&1===e.y&&1===e.z||(this._onBeforeGetComponentCallback(),this._onBeforeChangeCallback(),this._x/=e.x,this._y/=e.y,this._z/=e.z),this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this._onBeforeGetComponentCallback(),this._onBeforeChangeCallback(),this._x=Math.min(this._x,e.x),this._y=Math.min(this._y,e.y),this._z=Math.min(this._z,e.z),this}},{key:"max",value:function(e){return this._onBeforeGetComponentCallback(),this._onBeforeChangeCallback(),this._x=Math.max(this._x,e.x),this._y=Math.max(this._y,e.y),this._z=Math.max(this._z,e.z),this}},{key:"clamp",value:function(e,t){return this._onBeforeGetComponentCallback(),this._onBeforeChangeCallback(),this._x=Math.max(e.x,Math.min(t.x,this._x)),this._y=Math.max(e.y,Math.min(t.y,this._y)),this._z=Math.max(e.z,Math.min(t.z,this._z)),this}},{key:"clampScalar",value:function(e,t){return this._onBeforeGetComponentCallback(),this._onBeforeChangeCallback(),this._x=Math.max(e,Math.min(t,this._x)),this._y=Math.max(e,Math.min(t,this._y)),this._z=Math.max(e,Math.min(t,this._z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this._onBeforeGetComponentCallback(),this._onBeforeChangeCallback(),this._x=Math.floor(this._x),this._y=Math.floor(this._y),this._z=Math.floor(this._z),this}},{key:"ceil",value:function(){return this._onBeforeGetComponentCallback(),this._onBeforeChangeCallback(),this._x=Math.ceil(this._x),this._y=Math.ceil(this._y),this._z=Math.ceil(this._z),this}},{key:"round",value:function(){return this._onBeforeGetComponentCallback(),this._onBeforeChangeCallback(),this._x=Math.round(this._x),this._y=Math.round(this._y),this._z=Math.round(this._z),this}},{key:"roundToZero",value:function(){return this._onBeforeGetComponentCallback(),this._onBeforeChangeCallback(),this._x=this._x<0?Math.ceil(this._x):Math.floor(this._x),this._y=this._y<0?Math.ceil(this._y):Math.floor(this._y),this._z=this._z<0?Math.ceil(this._z):Math.floor(this._z),this}},{key:"negate",value:function(){return this._onBeforeGetComponentCallback(),this._onBeforeChangeCallback(),this._x=-this._x,this._y=-this._y,this._z=-this._z,this}},{key:"dot",value:function(e){return this._onBeforeGetComponentCallback(),this._x*e.x+this._y*e.y+this._z*e.z}},{key:"lengthSq",value:function(){return this._onBeforeGetComponentCallback(),this._x*this._x+this._y*this._y+this._z*this._z}},{key:"length",value:function(){return this._onBeforeGetComponentCallback(),Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z)}},{key:"manhattanLength",value:function(){return this._onBeforeGetComponentCallback(),Math.abs(this._x)+Math.abs(this._y)+Math.abs(this._z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this._onBeforeGetComponentCallback(),this._onBeforeChangeCallback(),this._x+=(e.x-this._x)*t,this._y+=(e.y-this._y)*t,this._z+=(e.z-this._z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this._onBeforeChangeCallback(),this._x=e.x+(t.x-e.x)*n,this._y=e.y+(t.y-e.y)*n,this._z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this._onBeforeChangeCallback(),this._x=r*s-i*o,this._y=i*a-n*s,this._z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return pe.copy(this).projectOnVector(e),this.sub(pe)}},{key:"reflect",value:function(e){return this.sub(pe.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(z(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){this._onBeforeGetComponentCallback();var t=this._x-e.x,n=this._y-e.y,r=this._z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return this._onBeforeGetComponentCallback(),Math.abs(this._x-e.x)+Math.abs(this._y-e.y)+Math.abs(this._z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this._onBeforeChangeCallback(),this._x=r*Math.sin(n),this._y=Math.cos(t)*e,this._z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this._onBeforeChangeCallback(),this._x=e*Math.sin(t),this._y=n,this._z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this._onBeforeChangeCallback(),this._x=t[12],this._y=t[13],this._z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this._onBeforeChangeCallback(),this._x=t,this._y=n,this._z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"equals",value:function(e){return this._onBeforeGetComponentCallback(),e.x===this._x&&e.y===this._y&&e.z===this._z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x===e[t]&&this._y===e[t+1]&&this._z===e[t+2]||(this._onBeforeChangeCallback(),this._x=e[t],this._y=e[t+1],this._z=e[t+2]),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._onBeforeGetComponentCallback(),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this._onBeforeChangeCallback(),this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this}},{key:"random",value:function(){return this._onBeforeChangeCallback(),this._x=Math.random(),this._y=Math.random(),this._z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this._onBeforeChangeCallback(),this._x=n*Math.cos(t),this._y=n*Math.sin(t),this._z=e,this}},{key:Symbol.iterator,value:E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._onBeforeGetComponentCallback(),e.next=3,this._x;case 3:return this._onBeforeGetComponentCallback(),e.next=6,this._y;case 6:return this._onBeforeGetComponentCallback(),e.next=9,this._z;case 9:case"end":return e.stop()}}),e,this)}))},{key:"lengthManhattan",value:function(){throw new Error("deprecated")}},{key:"distanceToManhattan",value:function(e){throw new Error("deprecated")}}]),t}(),pe=new de,ye=new j,ve=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DefaultOrder;r(this,e),this.isEuler=!0,this._internal_x=t,this._internal_y=n,this._internal_z=i,this._internal_order=a,this._onChangeCallback=function(){},this._onBeforeChangeCallback=function(){},this._onBeforeGetComponentCallback=function(){}}return a(e,[{key:"onBeforeGetComponent",value:function(e){this._onBeforeGetComponentCallback=e}},{key:"onBeforeChange",value:function(e){this._onBeforeChangeCallback=e}},{key:"_x",get:function(){return this._onBeforeGetComponentCallback(),this._internal_x},set:function(e){this._internal_x=e}},{key:"_y",get:function(){return this._onBeforeGetComponentCallback(),this._internal_y},set:function(e){this._internal_y=e}},{key:"_z",get:function(){return this._onBeforeGetComponentCallback(),this._internal_z},set:function(e){this._internal_z=e}},{key:"_order",get:function(){return this._onBeforeGetComponentCallback(),this._internal_order},set:function(e){this._internal_order=e}},{key:"x",get:function(){return this._onBeforeGetComponentCallback(),this._internal_x},set:function(e){this._internal_x!==e&&(this._onBeforeChangeCallback(),this._internal_x=e,this._onChangeCallback())}},{key:"y",get:function(){return this._onBeforeGetComponentCallback(),this._internal_y},set:function(e){this._internal_y!==e&&(this._onBeforeChangeCallback(),this._internal_y=e,this._onChangeCallback())}},{key:"z",get:function(){return this._onBeforeGetComponentCallback(),this._internal_z},set:function(e){this._internal_z!==e&&(this._onBeforeChangeCallback(),this._internal_z=e,this._onChangeCallback())}},{key:"order",get:function(){return this._onBeforeGetComponentCallback(),this._internal_order},set:function(e){this._internal_order!==e&&(this._onBeforeChangeCallback(),this._internal_order=e,this._onChangeCallback())}},{key:"set",value:function(e,t,n,r){return e===this._internal_x&&t===this._internal_y&&n===this._internal_z&&r===this._internal_order||(this._onBeforeChangeCallback(),this._internal_x=e,this._internal_y=t,this._internal_z=n,r&&(this._internal_order=r),this._onChangeCallback()),this}},{key:"clone",value:function(){return this._onBeforeGetComponentCallback(),new q(this._internal_x,this._internal_y,this._internal_z,this._internal_order)}},{key:"copy",value:function(e){return this._internal_x===e._internal_x&&this._internal_y===e._internal_y&&this._internal_z===e._internal_z&&this._internal_order===e._internal_order||(this._onBeforeChangeCallback(),this._internal_x=e._x,this._internal_y=e._y,this._internal_z=e._z,this._internal_order=e._order,this._onChangeCallback()),this}},{key:"setFromRotationMatrix",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._onBeforeGetComponentCallback();var r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],l=r[5],u=r[9],c=r[2],h=r[6],f=r[10];switch(t||(t=this._internal_order),this._onBeforeChangeCallback(),t){case"XYZ":this._internal_y=Math.asin(z(o,-1,1)),Math.abs(o)<.9999999?(this._internal_x=Math.atan2(-u,f),this._internal_z=Math.atan2(-a,i)):(this._internal_x=Math.atan2(h,l),this._internal_z=0);break;case"YXZ":this._internal_x=Math.asin(-z(u,-1,1)),Math.abs(u)<.9999999?(this._internal_y=Math.atan2(o,f),this._internal_z=Math.atan2(s,l)):(this._internal_y=Math.atan2(-c,i),this._internal_z=0);break;case"ZXY":this._internal_x=Math.asin(z(h,-1,1)),Math.abs(h)<.9999999?(this._internal_y=Math.atan2(-c,f),this._internal_z=Math.atan2(-a,l)):(this._internal_y=0,this._internal_z=Math.atan2(s,i));break;case"ZYX":this._internal_y=Math.asin(-z(c,-1,1)),Math.abs(c)<.9999999?(this._internal_x=Math.atan2(h,f),this._internal_z=Math.atan2(s,i)):(this._internal_x=0,this._internal_z=Math.atan2(-a,l));break;case"YZX":this._internal_z=Math.asin(z(s,-1,1)),Math.abs(s)<.9999999?(this._internal_x=Math.atan2(-u,l),this._internal_y=Math.atan2(-c,i)):(this._internal_x=0,this._internal_y=Math.atan2(o,f));break;case"XZY":this._internal_z=Math.asin(-z(a,-1,1)),Math.abs(a)<.9999999?(this._internal_x=Math.atan2(h,l),this._internal_y=Math.atan2(o,i)):(this._internal_x=Math.atan2(-u,f),this._internal_y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._internal_order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return _e.makeRotationFromQuaternion(e),this.setFromRotationMatrix(_e,t,n)}},{key:"setFromVector3",value:function(e,t){return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return ge.setFromEuler(this),this.setFromQuaternion(ge,e)}},{key:"equals",value:function(e){return this._onBeforeGetComponentCallback(),e._x===this._internal_x&&e._y===this._internal_y&&e._z===this._internal_z&&e._order===this._internal_order}},{key:"fromArray",value:function(e){return this._internal_x===e[0]&&this._internal_y===e[1]&&this._internal_z===e[2]&&this._internal_order===e[3]||(this._onBeforeChangeCallback(),this._internal_x=e[0],this._internal_y=e[1],this._internal_z=e[2],void 0!==e[3]&&(this._internal_order=e[3]),this._onChangeCallback()),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._onBeforeGetComponentCallback(),e[t]=this._internal_x,e[t+1]=this._internal_y,e[t+2]=this._internal_z,e[t+3]=this._internal_order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}}]),e}();ve.DefaultOrder="XYZ",ve.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var me,_e=new B,ge=new j,be=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;r(this,e),this.isQuaternion=!0,this._internal_x=t,this._internal_y=n,this._internal_z=i,this._internal_w=a,this._onChangeCallback=function(){},this._onBeforeChangeCallback=function(){},this._onBeforeGetComponentCallback=function(){}}return a(e,[{key:"onBeforeGetComponent",value:function(e){this._onBeforeGetComponentCallback=e}},{key:"onBeforeChange",value:function(e){this._onBeforeChangeCallback=e}},{key:"_x",get:function(){return this._onBeforeGetComponentCallback(),this._internal_x},set:function(e){this._internal_x!==e&&(this._internal_x=e)}},{key:"_y",get:function(){return this._onBeforeGetComponentCallback(),this._internal_y},set:function(e){this._internal_y!==e&&(this._internal_y=e)}},{key:"_z",get:function(){return this._onBeforeGetComponentCallback(),this._internal_z},set:function(e){this._internal_z!==e&&(this._internal_z=e)}},{key:"_w",get:function(){return this._onBeforeGetComponentCallback(),this._internal_w},set:function(e){this._internal_w!==e&&(this._internal_w=e)}},{key:"x",get:function(){return this._onBeforeGetComponentCallback(),this._internal_x},set:function(e){this._internal_x!==e&&(this._onBeforeChangeCallback(),this._internal_x=e,this._onChangeCallback())}},{key:"y",get:function(){return this._onBeforeGetComponentCallback(),this._internal_y},set:function(e){this._internal_y!==e&&(this._onBeforeChangeCallback(),this._internal_y=e,this._onChangeCallback())}},{key:"z",get:function(){return this._onBeforeGetComponentCallback(),this._internal_z},set:function(e){this._internal_z!==e&&(this._onBeforeChangeCallback(),this._internal_z=e,this._onChangeCallback())}},{key:"w",get:function(){return this._onBeforeGetComponentCallback(),this._internal_w},set:function(e){this._internal_w!==e&&(this._onBeforeChangeCallback(),this._internal_w=e,this._onChangeCallback())}},{key:"set",value:function(e,t,n,r){return this._internal_x===e&&this._internal_y===t&&this._internal_z===n&&this._internal_w===r||(this._onBeforeChangeCallback(),this._internal_x=e,this._internal_y=t,this._internal_z=n,this._internal_w=r,this._onChangeCallback()),this}},{key:"clone",value:function(){return this._onBeforeGetComponentCallback(),new j(this._internal_x,this._internal_y,this._internal_z,this._internal_w)}},{key:"copy",value:function(e){return this._internal_x===e.x&&this._internal_y===e.y&&this._internal_z===e.z&&this._internal_w===e.w||(this._onBeforeChangeCallback(),this._internal_x=e.x,this._internal_y=e.y,this._internal_z=e.z,this._internal_w=e.w,this._onChangeCallback()),this}},{key:"setFromEuler",value:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(r/2),c=o(i/2),h=s(n/2),f=s(r/2),d=s(i/2);switch(this._onBeforeChangeCallback(),a){case"XYZ":this._internal_x=h*u*c+l*f*d,this._internal_y=l*f*c-h*u*d,this._internal_z=l*u*d+h*f*c,this._internal_w=l*u*c-h*f*d;break;case"YXZ":this._internal_x=h*u*c+l*f*d,this._internal_y=l*f*c-h*u*d,this._internal_z=l*u*d-h*f*c,this._internal_w=l*u*c+h*f*d;break;case"ZXY":this._internal_x=h*u*c-l*f*d,this._internal_y=l*f*c+h*u*d,this._internal_z=l*u*d+h*f*c,this._internal_w=l*u*c-h*f*d;break;case"ZYX":this._internal_x=h*u*c-l*f*d,this._internal_y=l*f*c+h*u*d,this._internal_z=l*u*d-h*f*c,this._internal_w=l*u*c+h*f*d;break;case"YZX":this._internal_x=h*u*c+l*f*d,this._internal_y=l*f*c+h*u*d,this._internal_z=l*u*d-h*f*c,this._internal_w=l*u*c-h*f*d;break;case"XZY":this._internal_x=h*u*c-l*f*d,this._internal_y=l*f*c-h*u*d,this._internal_z=l*u*d+h*f*c,this._internal_w=l*u*c+h*f*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._onBeforeChangeCallback(),this._internal_x=e.x*r,this._internal_y=e.y*r,this._internal_z=e.z*r,this._internal_w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],u=t[6],c=t[10],h=n+o+c;if(this._onBeforeChangeCallback(),h>0){var f=.5/Math.sqrt(h+1);this._internal_w=.25/f,this._internal_x=(u-s)*f,this._internal_y=(i-l)*f,this._internal_z=(a-r)*f}else if(n>o&&n>c){var d=2*Math.sqrt(1+n-o-c);this._internal_w=(u-s)/d,this._internal_x=.25*d,this._internal_y=(r+a)/d,this._internal_z=(i+l)/d}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._internal_w=(i-l)/p,this._internal_x=(r+a)/p,this._internal_y=.25*p,this._internal_z=(s+u)/p}else{var y=2*Math.sqrt(1+c-n-o);this._internal_w=(a-r)/y,this._internal_x=(i+l)/y,this._internal_y=(s+u)/y,this._internal_z=.25*y}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return this._onBeforeChangeCallback(),n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._internal_x=-e.y,this._internal_y=e.x,this._internal_z=0,this._internal_w=n):(this._internal_x=0,this._internal_y=-e.z,this._internal_z=e.y,this._internal_w=n)):(this._internal_x=e.y*t.z-e.z*t.y,this._internal_y=e.z*t.x-e.x*t.z,this._internal_z=e.x*t.y-e.y*t.x,this._internal_w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(z(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._onBeforeGetComponentCallback(),this._onBeforeChangeCallback(),this._internal_x*=-1,this._internal_y*=-1,this._internal_z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._onBeforeGetComponentCallback(),this._internal_x*e._x+this._internal_y*e._y+this._internal_z*e._z+this._internal_w*e._w}},{key:"lengthSq",value:function(){return this._onBeforeGetComponentCallback(),this._internal_x*this._internal_x+this._internal_y*this._internal_y+this._internal_z*this._internal_z+this._internal_w*this._internal_w}},{key:"length",value:function(){return this._onBeforeGetComponentCallback(),Math.sqrt(this._internal_x*this._internal_x+this._internal_y*this._internal_y+this._internal_z*this._internal_z+this._internal_w*this._internal_w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._onBeforeChangeCallback(),this._internal_x=0,this._internal_y=0,this._internal_z=0,this._internal_w=1):(e=1/e,this._onBeforeGetComponentCallback(),this._onBeforeChangeCallback(),this._internal_x=this._internal_x*e,this._internal_y=this._internal_y*e,this._internal_z=this._internal_z*e,this._internal_w=this._internal_w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):0===e._x&&0===e._y&&0===e._z&&1===e._w?this:this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._onBeforeChangeCallback(),this._internal_x=n*u+a*o+r*l-i*s,this._internal_y=r*u+a*s+i*o-n*l,this._internal_z=i*u+a*l+n*s-r*o,this._internal_w=a*u-n*o-r*s-i*l,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);this._onBeforeGetComponentCallback();var n=this._internal_x,r=this._internal_y,i=this._internal_z,a=this._internal_w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(this._onBeforeChangeCallback(),o<0?(this._internal_w=-e._w,this._internal_x=-e._x,this._internal_y=-e._y,this._internal_z=-e._z,o=-o):this.copy(e),o>=1)return this._internal_w=a,this._internal_x=n,this._internal_y=r,this._internal_z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-t;return this._internal_w=l*a+t*this._internal_w,this._internal_x=l*n+t*this._internal_x,this._internal_y=l*r+t*this._internal_y,this._internal_z=l*i+t*this._internal_z,this.normalize(),this}var u=Math.sqrt(s),c=Math.atan2(u,o),h=Math.sin((1-t)*c)/u,f=Math.sin(t*c)/u;return this._internal_w=a*h+this._internal_w*f,this._internal_x=n*h+this._internal_x*f,this._internal_y=r*h+this._internal_y*f,this._internal_z=i*h+this._internal_z*f,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return this._onBeforeGetComponentCallback(),e._x===this._internal_x&&e._y===this._internal_y&&e._z===this._internal_z&&e._w===this._internal_w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._internal_x===e[t]&&this._internal_y===e[t+1]&&this._internal_z===e[t+2]&&this._internal_w===e[t+3]||(this._onBeforeChangeCallback(),this._internal_x=e[t],this._internal_y=e[t+1],this._internal_z=e[t+2],this._internal_w=e[t+3],this._onChangeCallback()),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._onBeforeGetComponentCallback(),e[t]=this._internal_x,e[t+1]=this._internal_y,e[t+2]=this._internal_z,e[t+3]=this._internal_w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._internal_x=e.getX(t),this._internal_y=e.getY(t),this._internal_z=e.getZ(t),this._internal_w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"multiplyVector3",value:function(e){throw new Error("deprecated")}},{key:"inverse",value:function(){throw new Error("deprecated")}}],[{key:"slerp",value:function(e,t,n,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(e,t,r)}},{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],h=i[a+0],f=i[a+1],d=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=u,void(e[t+3]=c);if(1===o)return e[t+0]=h,e[t+1]=f,e[t+2]=d,void(e[t+3]=p);if(c!==p||s!==h||l!==f||u!==d){var y=1-o,v=s*h+l*f+u*d+c*p,m=v>=0?1:-1,_=1-v*v;if(_>Number.EPSILON){var g=Math.sqrt(_),b=Math.atan2(g,v*m);y=Math.sin(y*b)/g,o=Math.sin(o*b)/g}var k=o*m;if(s=s*y+h*k,l=l*y+f*k,u=u*y+d*k,c=c*y+p*k,y===1-o){var x=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=x,l*=x,u*=x,c*=x}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],l=n[r+2],u=n[r+3],c=i[a],h=i[a+1],f=i[a+2],d=i[a+3];return e[t]=o*d+u*c+s*f-l*h,e[t+1]=s*d+u*h+l*c-o*f,e[t+2]=l*d+u*f+o*h-s*c,e[t+3]=u*d-o*c-s*h-l*f,e}}]),e}(),ke=function(){function e(t,n,i){r(this,e),this._hasChanged=!1,this._localMatrixNeedUpdate=!1,this._worldMatrixNeedUpdate=!1,this._worldPositionRotationScaleNeedUpdate=!1,this._localPositionRotationScaleNeedUpdate=!1,this._onBeforeGetLocalBind=this.onBeforeGetLocal.bind(this),this._onBeforeLocalChangeBind=this.onBeforeLocalChange.bind(this),this._onLocalEulerRotationChangedBind=this.onLocalEulerRotationChanged.bind(this),this._onLocalRotationChangedBind=this.onLocalRotationChanged.bind(this),this._onBeforeGetWorldBind=this.onBeforeGetWorld.bind(this),this._onBeforeWorldChangeBind=this.onBeforeWorldChange.bind(this),this._onWorldEulerRotationChangedBind=this.onWorldEulerRotationChanged.bind(this),this._onWorldRotationChangedBind=this.onWorldRotationChanged.bind(this),this._ignoreObservableEvent=!1,this.isRegisteredToProcessor=!1,this._engineGlobalObject=n,this._onParentChanged=i,this._object3D=new e.TransformObject3D,this._object3D.matrixAutoUpdate=!0,this._object3D.userData=this,n.scene.add(this._object3D),Object.defineProperties(this._object3D,{position:{writable:!0},rotation:{writable:!0},quaternion:{writable:!0},scale:{writable:!0}});var a=this._onBeforeGetLocalBind,o=this._onBeforeLocalChangeBind,s=new de;s.onBeforeGetComponent(a),s.onBeforeChange(o),this._object3D.position=s;var l=new ve;l.onBeforeGetComponent(a),l.onBeforeChange(o),l._onChange(this._onLocalEulerRotationChangedBind),this._object3D.rotation=l;var u=new be;u.onBeforeGetComponent(a),u.onBeforeChange(o),u._onChange(this._onLocalRotationChangedBind),this._object3D.quaternion=u;var c=new de(1,1,1);c.onBeforeGetComponent(a),c.onBeforeChange(o),this._object3D.scale=c,this._gameObject=t;var h=this._onBeforeGetWorldBind,f=this._onBeforeWorldChangeBind,d=new de;d.onBeforeGetComponent(h),d.onBeforeChange(f),this._worldPosition=d;var p=new ve;p.onBeforeGetComponent(h),p.onBeforeChange(f),p._onChange(this._onWorldEulerRotationChangedBind),this._worldRotationEuler=p;var y=new be;y.onBeforeGetComponent(h),y.onBeforeChange(f),y._onChange(this._onWorldRotationChangedBind),this._worldRotation=y;var v=new de(1,1,1);v.onBeforeGetComponent(h),v.onBeforeChange(f),this._worldScale=v,this.setWorldMatrixNeedUpdateRecursively()}return a(e,[{key:"onBeforeGetLocal",value:function(){this._ignoreObservableEvent||this.updateLocalPositionRotationScaleFromOthers()}},{key:"onBeforeLocalChange",value:function(){this._ignoreObservableEvent||(this.updateChildrenLocalPositionRotationScaleFromOthersRecursively(),this._localPositionRotationScaleNeedUpdate=!1,this._localMatrixNeedUpdate=!0,this.setWorldMatrixNeedUpdateRecursively(),this.setWorldPositionRotationScaleNeedUpdateRecursively(),this.setHasChangedRecursively())}},{key:"onLocalEulerRotationChanged",value:function(){this._ignoreObservableEvent||this._object3D.quaternion.setFromEuler(this._object3D.rotation,!1)}},{key:"onLocalRotationChanged",value:function(){this._ignoreObservableEvent||this._object3D.rotation.setFromQuaternion(this._object3D.quaternion,void 0,!1)}},{key:"onBeforeGetWorld",value:function(){this._ignoreObservableEvent||this.updateWorldPositionRotationScaleFromOthers()}},{key:"onBeforeWorldChange",value:function(){this._ignoreObservableEvent||(this.updateChildrenLocalPositionRotationScaleFromOthersRecursively(),this._worldPositionRotationScaleNeedUpdate=!1,this._localPositionRotationScaleNeedUpdate=!0,this._localMatrixNeedUpdate=!0,this.setWorldMatrixNeedUpdateRecursively(),this.setChildrenWorldPositionRotationScaleNeedUpdateRecursively(),this.setHasChangedRecursively())}},{key:"onWorldEulerRotationChanged",value:function(){this._ignoreObservableEvent||this._worldRotation.setFromEuler(this._worldRotationEuler,!1)}},{key:"onWorldRotationChanged",value:function(){this._ignoreObservableEvent||this._worldRotationEuler.setFromQuaternion(this._worldRotation,void 0,!1)}},{key:"setWorldPositionRotationScaleNeedUpdateRecursively",value:function(){this._worldPositionRotationScaleNeedUpdate=!0;for(var t=this._object3D.children,n=0,r=t.length;n<r;n++){var i=t[n];i.userData instanceof e&&i.userData.setWorldPositionRotationScaleNeedUpdateRecursively()}}},{key:"setChildrenWorldPositionRotationScaleNeedUpdateRecursively",value:function(){for(var t=this._object3D.children,n=0,r=t.length;n<r;n++){var i=t[n];i.userData instanceof e&&i.userData.setWorldPositionRotationScaleNeedUpdateRecursively()}}},{key:"setWorldMatrixNeedUpdateRecursively",value:function(){this._engineGlobalObject.transformMatrixProcessor.enqueueTransformToUpdate(this),this.setWorldMatrixNeedUpdateRecursivelyInternal()}},{key:"setWorldMatrixNeedUpdateRecursivelyInternal",value:function(){this._worldMatrixNeedUpdate=!0;for(var t=this._object3D.children,n=0,r=t.length;n<r;n++){var i=t[n];i.userData instanceof e&&i.userData.setWorldMatrixNeedUpdateRecursivelyInternal()}}},{key:"setHasChangedRecursively",value:function(){this._hasChanged=!0;for(var t=this._object3D.children,n=0,r=t.length;n<r;n++){var i=t[n];i.userData instanceof e&&i.userData.setHasChangedRecursively()}}},{key:"updateLocalPositionRotationScaleFromOthers",value:function(){if(this._localPositionRotationScaleNeedUpdate){if(this._localMatrixNeedUpdate){this._worldMatrixNeedUpdate&&(this._ignoreObservableEvent=!0,this._object3D.matrixWorld.compose(this._worldPosition,this._worldRotation,this._worldScale),this._ignoreObservableEvent=!1,this._worldMatrixNeedUpdate=!1,this._gameObject.gameObjectEventContainer.invokeOnWorldMatrixUpdated());var t=this.parent;if(t){t.updateWorldMatrixFromLocalMatrixAndParentWorldMatrix();var n=e._matrix4Buffer.copy(t._object3D.matrixWorld).invert();this._object3D.matrix.multiplyMatrices(this._object3D.matrixWorld,n)}else this._object3D.matrix.copy(this._object3D.matrixWorld);this._localMatrixNeedUpdate=!1}this._ignoreObservableEvent=!0,this._object3D.matrix.decompose(this.localPosition,this.localRotation,this.localScale),this.localEulerAngles.setFromQuaternion(this.localRotation,void 0,!1),this._ignoreObservableEvent=!1,this._localPositionRotationScaleNeedUpdate=!1}}},{key:"updateWorldPositionRotationScaleFromOthers",value:function(){this._worldPositionRotationScaleNeedUpdate&&(this.updateWorldMatrixFromLocalMatrixAndParentWorldMatrix(),this._ignoreObservableEvent=!0,this._object3D.matrixWorld.decompose(this._worldPosition,this._worldRotation,this._worldScale),this._worldRotationEuler.setFromQuaternion(this._worldRotation,void 0,!1),this._ignoreObservableEvent=!1,this._worldPositionRotationScaleNeedUpdate=!1)}},{key:"updateWorldMatrixFromLocalMatrixAndParentWorldMatrix",value:function(){if(this._worldMatrixNeedUpdate){var e=this._object3D.matrix;if(this._localMatrixNeedUpdate)if(this._localPositionRotationScaleNeedUpdate)this._ignoreObservableEvent=!0,this._object3D.matrixWorld.compose(this._worldPosition,this._worldRotation,this._worldScale),this._ignoreObservableEvent=!1;else{this._localMatrixNeedUpdate&&(this._ignoreObservableEvent=!0,e.compose(this.localPosition,this.localRotation,this.localScale),this._ignoreObservableEvent=!1,this._localMatrixNeedUpdate=!1);var t=this.parent;t?(t.updateWorldMatrixFromLocalMatrixAndParentWorldMatrix(),this._object3D.matrixWorld.multiplyMatrices(t._object3D.matrixWorld,e)):this._object3D.matrixWorld.copy(e)}else{var n=this.parent;n?(n.updateWorldMatrixFromLocalMatrixAndParentWorldMatrix(),this._object3D.matrixWorld.multiplyMatrices(n._object3D.matrixWorld,e)):this._object3D.matrixWorld.copy(e)}this._worldMatrixNeedUpdate=!1,this._gameObject.gameObjectEventContainer.invokeOnWorldMatrixUpdated()}}},{key:"updateLocalMatrixFromOthers",value:function(){if(this._localMatrixNeedUpdate){var t=this._object3D.matrix;if(this._worldMatrixNeedUpdate)if(this._worldPositionRotationScaleNeedUpdate)this._ignoreObservableEvent=!0,t.compose(this.localPosition,this.localRotation,this.localScale),this._ignoreObservableEvent=!1;else{this._worldMatrixNeedUpdate&&(this._ignoreObservableEvent=!0,this._object3D.matrixWorld.compose(this._worldPosition,this._worldRotation,this._worldScale),this._ignoreObservableEvent=!1,this._worldMatrixNeedUpdate=!1,this._gameObject.gameObjectEventContainer.invokeOnWorldMatrixUpdated());var n=this.parent;if(n){n.updateWorldMatrixFromLocalMatrixAndParentWorldMatrix();var r=e._matrix4Buffer.copy(n._object3D.matrixWorld).invert();this._object3D.matrix.multiplyMatrices(this._object3D.matrixWorld,r)}else this._object3D.matrix.copy(this._object3D.matrixWorld)}else{var i=this.parent;if(i){i.updateWorldMatrixFromLocalMatrixAndParentWorldMatrix();var a=e._matrix4Buffer.copy(i._object3D.matrixWorld).invert();this._object3D.matrix.multiplyMatrices(this._object3D.matrixWorld,a)}else this._object3D.matrix.copy(this._object3D.matrixWorld)}this._localMatrixNeedUpdate=!1}}},{key:"updateLocalPositionRotationScaleFromOthersRecursively",value:function(){this.updateLocalPositionRotationScaleFromOthers();for(var t=this._object3D.children,n=0,r=t.length;n<r;n++){var i=t[n];i.userData instanceof e&&i.userData.updateLocalPositionRotationScaleFromOthersRecursively()}}},{key:"updateChildrenLocalPositionRotationScaleFromOthersRecursively",value:function(){for(var t=this._object3D.children,n=0,r=t.length;n<r;n++){var i=t[n];i.userData instanceof e&&(i.userData.updateLocalPositionRotationScaleFromOthers(),i.userData.updateChildrenLocalPositionRotationScaleFromOthersRecursively())}}},{key:"tryUpdateWorldMatrixRecursivelyFromThisToChildren",value:function(){return!!this._gameObject.exists&&this.tryUpdateWorldMatrixRecursivelyFromThisToChildrenInternal()}},{key:"tryUpdateWorldMatrixRecursivelyFromThisToChildrenInternal",value:function(){this.updateWorldMatrixFromLocalMatrixAndParentWorldMatrix();for(var t=this._object3D.children,n=0,r=t.length;n<r;n++){var i=t[n];i.userData instanceof e&&i.userData.tryUpdateWorldMatrixRecursivelyFromThisToChildrenInternal()}return!0}},{key:"foreachChild",value:function(t){for(var n=this._object3D.children,r=0,i=n.length;r<i;r++){var a=n[r];a.userData instanceof e&&t(a.userData)}}},{key:"iterateChild",value:function(t){for(var n=this._object3D.children,r=0,i=n.length;r<i;r++){var a=n[r];if(a.userData instanceof e&&!t(a.userData))break}}},{key:"parent",get:function(){return this._object3D.parent instanceof fe?null:this._object3D.parent.userData},set:function(e){this.setParent(e)}},{key:"setParent",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e){var n=this.parent;this.updateLocalPositionRotationScaleFromOthersRecursively(),this.setWorldMatrixNeedUpdateRecursively(),this.setWorldPositionRotationScaleNeedUpdateRecursively(),t&&e.getWorldToLocalMatrix(this._object3D.matrix).multiply(this._object3D.matrixWorld),this._object3D.removeFromParent(),e._object3D.add(this._object3D),this._onParentChanged(n,e)}else{var r=this.parent;this.updateLocalPositionRotationScaleFromOthersRecursively(),this.setWorldMatrixNeedUpdateRecursively(),this.setWorldPositionRotationScaleNeedUpdateRecursively(),t&&this._object3D.matrix.copy(this._object3D.matrixWorld),this._object3D.removeFromParent(),this._engineGlobalObject.scene.add(this._object3D),this._onParentChanged(r,null)}}},{key:"children",get:function(){return this._object3D.children.filter((function(t){return t.userData instanceof e})).map((function(e){return e.userData}))}},{key:"gameObject",get:function(){return this._gameObject}},{key:"getForward",value:function(e){this.updateWorldMatrixFromLocalMatrixAndParentWorldMatrix();var t=this._object3D.matrixWorld.elements;return e?e.set(t[8],t[9],t[10]):new T(t[8],t[9],t[10])}},{key:"setForward",value:function(t){this._engineGlobalObject.transformMatrixProcessor.enqueueTransformToUpdate(this),this.updateWorldMatrixFromLocalMatrixAndParentWorldMatrix(),this.updateChildrenLocalPositionRotationScaleFromOthersRecursively(),this._localMatrixNeedUpdate=!0,this._localPositionRotationScaleNeedUpdate=!0,this.setChildrenWorldPositionRotationScaleNeedUpdateRecursively(),this.setWorldPositionRotationScaleNeedUpdateRecursively(),this._worldPositionRotationScaleNeedUpdate=!0;var n=this._object3D.matrixWorld.elements,r=e._vector3Buffer.copy(t).normalize();n[8]=r.x,n[9]=r.y,n[10]=r.z}},{key:"getRight",value:function(e){this.updateWorldMatrixFromLocalMatrixAndParentWorldMatrix();var t=this._object3D.matrixWorld.elements;return e?e.set(t[0],t[1],t[2]):new T(t[0],t[1],t[2])}},{key:"setRight",value:function(t){this._engineGlobalObject.transformMatrixProcessor.enqueueTransformToUpdate(this),this.updateWorldMatrixFromLocalMatrixAndParentWorldMatrix(),this.updateChildrenLocalPositionRotationScaleFromOthersRecursively(),this._localMatrixNeedUpdate=!0,this._localPositionRotationScaleNeedUpdate=!0,this.setChildrenWorldPositionRotationScaleNeedUpdateRecursively(),this.setWorldPositionRotationScaleNeedUpdateRecursively(),this._worldPositionRotationScaleNeedUpdate=!0;var n=this._object3D.matrixWorld.elements,r=e._vector3Buffer.copy(t).normalize();n[0]=r.x,n[1]=r.y,n[2]=r.z}},{key:"getUp",value:function(e){this.updateWorldMatrixFromLocalMatrixAndParentWorldMatrix();var t=this._object3D.matrixWorld.elements;return e?e.set(t[4],t[5],t[6]):new T(t[4],t[5],t[6])}},{key:"setUp",value:function(t){this._engineGlobalObject.transformMatrixProcessor.enqueueTransformToUpdate(this),this.updateWorldMatrixFromLocalMatrixAndParentWorldMatrix(),this.updateChildrenLocalPositionRotationScaleFromOthersRecursively(),this._localMatrixNeedUpdate=!0,this._localPositionRotationScaleNeedUpdate=!0,this.setChildrenWorldPositionRotationScaleNeedUpdateRecursively(),this.setWorldPositionRotationScaleNeedUpdateRecursively(),this._worldPositionRotationScaleNeedUpdate=!0;var n=this._object3D.matrixWorld.elements,r=e._vector3Buffer.copy(t).normalize();n[4]=r.x,n[5]=r.y,n[6]=r.z}},{key:"localPosition",get:function(){return this._object3D.position}},{key:"localEulerAngles",get:function(){return this._object3D.rotation}},{key:"localRotation",get:function(){return this._object3D.quaternion}},{key:"localScale",get:function(){return this._object3D.scale}},{key:"position",get:function(){return this._worldPosition}},{key:"eulerAngles",get:function(){return this._worldRotationEuler}},{key:"rotation",get:function(){return this._worldRotation}},{key:"lossyScale",get:function(){return this._worldScale}},{key:"hasChanged",get:function(){return this._hasChanged},set:function(e){this._hasChanged=e}},{key:"getWorldToLocalMatrix",value:function(e){return this.updateWorldMatrixFromLocalMatrixAndParentWorldMatrix(),e?e.copy(this._object3D.matrixWorld).invert():this._object3D.matrixWorld.clone().invert()}},{key:"getLocalToWorldMatrix",value:function(e){return this.updateWorldMatrixFromLocalMatrixAndParentWorldMatrix(),e?e.copy(this._object3D.matrixWorld):this._object3D.matrixWorld.clone()}},{key:"transformPoint",value:function(e){return this.updateWorldMatrixFromLocalMatrixAndParentWorldMatrix(),this._object3D.localToWorld(e)}},{key:"inverseTransformPoint",value:function(e){return this.updateWorldMatrixFromLocalMatrixAndParentWorldMatrix(),this._object3D.worldToLocal(e)}},{key:"transformDirection",value:function(t){var n=e._matrix4Buffer.copy(this._object3D.matrixWorld).makeScale(1,1,1);return t.transformDirection(n)}},{key:"inverseTransformDirection",value:function(t){var n=e._matrix4Buffer.copy(this._object3D.matrixWorld).makeScale(1,1,1).invert();return t.transformDirection(n)}},{key:"transformVector",value:function(e){return e.transformDirection(this._object3D.matrixWorld)}},{key:"inverseTransformVector",value:function(t){return t.transformDirection(e._matrix4Buffer.copy(this._object3D.matrixWorld).invert())}},{key:"isChildOf",value:function(e){if(this===e)return!0;var t=this.parent;return!!t&&t.isChildOf(e)}},{key:"lookAt",value:function(t){var n=this.parent;e._vector3Buffer.setFromMatrixPosition(this._object3D.matrixWorld);var r=e._matrix4Buffer.lookAt(e._vector3Buffer,t,this._object3D.up);if(this._object3D.quaternion.setFromRotationMatrix(r),n){r.extractRotation(n._object3D.matrixWorld);var i=e._quaternionBuffer.setFromRotationMatrix(r);this._object3D.quaternion.premultiply(i.invert())}}},{key:"setRotationFromAxisAngle",value:function(e,t){this._object3D.setRotationFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this._object3D.setRotationFromEuler(e)}},{key:"setRotationFromMatrix",value:function(e){this._object3D.setRotationFromMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this._object3D.setRotationFromQuaternion(e)}},{key:"rotateOnAxis",value:function(e,t){return this._object3D.rotateOnAxis(e,t),this}},{key:"rotateOnWorldAxis",value:function(e,t){return this._object3D.rotateOnWorldAxis(e,t),this}},{key:"rotateX",value:function(e){return this._object3D.rotateX(e),this}},{key:"rotateY",value:function(e){return this._object3D.rotateY(e),this}},{key:"rotateZ",value:function(e){return this._object3D.rotateZ(e),this}},{key:"translateOnAxis",value:function(e,t){return this._object3D.translateOnAxis(e,t),this}},{key:"translateX",value:function(e){return this._object3D.translateX(e),this}},{key:"translateY",value:function(e){return this._object3D.translateY(e),this}},{key:"translateZ",value:function(e){return this._object3D.translateZ(e),this}},{key:"unsafeGetObject3D",value:function(){return this._object3D}},{key:"enqueueRenderAttachedObject3D",value:function(e){this._engineGlobalObject.transformMatrixProcessor.enqueueRenderObject(e)}},{key:"dequeueRenderAttachedObject3D",value:function(e){this._engineGlobalObject.transformMatrixProcessor.dequeueRenderObject(e)}},{key:"toJSON",value:function(){return{}}}],[{key:"updateRawObject3DWorldMatrixRecursively",value:function(t){t.matrixAutoUpdate&&t.updateMatrix(),t.parent?t.matrixWorld.multiplyMatrices(t.parent.matrixWorld,t.matrix):t.matrixWorld.copy(t.matrix);for(var n=t.children,r=0,i=n.length;r<i;r++)e.updateRawObject3DWorldMatrixRecursivelyInternal(n[r])}},{key:"updateRawObject3DWorldMatrixRecursivelyInternal",value:function(t){t.matrixAutoUpdate&&t.updateMatrix(),t.matrixWorld.multiplyMatrices(t.parent.matrixWorld,t.matrix);for(var n=t.children,r=0,i=n.length;r<i;r++)e.updateRawObject3DWorldMatrixRecursivelyInternal(n[r])}}]),e}();function xe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=y(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}ke.TransformObject3D=function(e){_(n,e);var t=C(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"updateMatrix",value:function(){this.userData.updateLocalMatrixFromOthers()}},{key:"updateMatrixWorld",value:function(e){this.userData.updateWorldMatrixFromLocalMatrixAndParentWorldMatrix()}},{key:"updateWorldMatrix",value:function(e,t){if(this.userData.updateWorldMatrixFromLocalMatrixAndParentWorldMatrix(),t)for(var n=this.children,r=0,i=n.length;r<i;r++)n[r].updateWorldMatrix(!1,!0)}}]),n}(le),ke._matrix4Buffer=new B,ke._vector3Buffer=new T,ke._quaternionBuffer=new j,function(e){e[e.start=2]="start",e[e.update=3]="update",e[e.awake=0]="awake",e[e.onEnable=1]="onEnable",e[e.onDisable=1]="onDisable",e[e.onDestroy=4]="onDestroy",e[e.onCollisionEnter2D=1]="onCollisionEnter2D",e[e.onCollisionStay2D=1]="onCollisionStay2D",e[e.onCollisionExit2D=1]="onCollisionExit2D",e[e.onTriggerEnter2D=1]="onTriggerEnter2D",e[e.onTriggerStay2D=1]="onTriggerStay2D",e[e.onTriggerExit2D=1]="onTriggerExit2D"}(me||(me={}));var Ce=function(){function e(t,n,i,a){r(this,e),this.isRemoved=!1,this._priority=i,this._eventId=t.generateEventId(),this._componentExecutionOrder=a,this._eventFunc=n}return a(e,[{key:"invoke",get:function(){return this._eventFunc}}],[{key:"createAwakeEvent",value:function(t,n){return new e(t,n,me.awake,0)}},{key:"createStartEvent",value:function(t,n,r){return new e(t,n,me.start,r)}},{key:"createUpdateEvent",value:function(t,n,r){return new e(t,n,me.update,r)}},{key:"createOnEnableEvent",value:function(t,n,r){return new e(t,n,me.onEnable,r)}},{key:"createOnDisableEvent",value:function(t,n,r){return new e(t,n,me.onDisable,r)}},{key:"createOnDestroyEvent",value:function(t,n,r){return new e(t,n,me.onDestroy,r)}},{key:"createOnCollisionEnter2DEvent",value:function(t,n,r){return new e(t,n,me.onCollisionEnter2D,r)}},{key:"createOnCollisionStay2DEvent",value:function(t,n,r){return new e(t,n,me.onCollisionStay2D,r)}},{key:"createOnCollisionExit2DEvent",value:function(t,n,r){return new e(t,n,me.onCollisionExit2D,r)}},{key:"createOnTriggerEnter2DEvent",value:function(t,n,r){return new e(t,n,me.onTriggerEnter2D,r)}},{key:"createOnTriggerStay2DEvent",value:function(t,n,r){return new e(t,n,me.onTriggerStay2D,r)}},{key:"createOnTriggerExit2DEvent",value:function(t,n,r){return new e(t,n,me.onTriggerExit2D,r)}},{key:"comparator",value:function(e,t){return e._priority===t._priority?e._componentExecutionOrder===t._componentExecutionOrder?e._eventId-t._eventId:e._componentExecutionOrder-t._componentExecutionOrder:e._priority-t._priority}}]),e}(),we=function(){function e(t){r(this,e),this._iterateCollection=null,this._collection=new h(void 0,t),this._insertBuffer=new h(void 0,t),this._insertBufferSwap=new h(void 0,t),this._deleteBuffer=new h(void 0,t)}return a(e,[{key:"size",get:function(){return this._collection.size()}},{key:"insert",value:function(e){null!==this._iterateCollection?this._insertBuffer.insert(e):this._collection.insert(e)}},{key:"delete",value:function(e){null!==this._iterateCollection?(e.isRemoved=!0,this._deleteBuffer.insert(e)):this._collection.eraseElementByValue(e)}},{key:"clear",value:function(){this._collection.clear(),this._insertBuffer.clear(),this._deleteBuffer.clear()}},{key:"forEach",value:function(e){this._iterateCollection=this._collection,this._iterateCollection.forEach((function(t){t.isRemoved||e(t)}));do{this._iterateCollection=this.flushBuffer(),this._iterateCollection.forEach((function(t){t.isRemoved||e(t)}))}while(0<this._insertBuffer.size()||0<this._deleteBuffer.size());this._iterateCollection=null}},{key:"flushBuffer",value:function(){var e=this;this._iterateCollection=null,this._deleteBuffer.forEach((function(t){return e.delete(t)})),this._insertBuffer.forEach((function(t){return e.insert(t)}));var t=this._insertBuffer;return this._insertBuffer=this._insertBufferSwap,this._insertBufferSwap=t,this._insertBuffer.clear(),this._deleteBuffer.clear(),t}}]),e}();function Ee(e){return void 0!==e.onWorldMatrixUpdated}var Se,Me=function(){function e(){r(this,e),this._matrixUpdateComponents=new Set,this._collisionEnter2DComponentEvents=new we(Ce.comparator),this._collisionStay2DComponentEvents=new we(Ce.comparator),this._collisionExit2DComponentEvents=new we(Ce.comparator),this._triggerEnter2DComponentEvents=new we(Ce.comparator),this._triggerStay2DComponentEvents=new we(Ce.comparator),this._triggerExit2DComponentEvents=new we(Ce.comparator)}return a(e,[{key:"registerComponent",value:function(e){Ee(e)&&this._matrixUpdateComponents.add(e);var t=e._engine_internal_componentEventContainer;t.onCollisionEnter2D&&this._collisionEnter2DComponentEvents.insert(t.onCollisionEnter2D),t.onCollisionStay2D&&this._collisionStay2DComponentEvents.insert(t.onCollisionStay2D),t.onCollisionExit2D&&this._collisionExit2DComponentEvents.insert(t.onCollisionExit2D),t.onTriggerEnter2D&&this._triggerEnter2DComponentEvents.insert(t.onTriggerEnter2D),t.onTriggerStay2D&&this._triggerStay2DComponentEvents.insert(t.onTriggerStay2D),t.onTriggerExit2D&&this._triggerExit2DComponentEvents.insert(t.onTriggerExit2D)}},{key:"unregisterComponent",value:function(e){Ee(e)&&this._matrixUpdateComponents.delete(e);var t=e._engine_internal_componentEventContainer;t.onCollisionEnter2D&&this._collisionEnter2DComponentEvents.delete(t.onCollisionEnter2D),t.onCollisionStay2D&&this._collisionStay2DComponentEvents.delete(t.onCollisionStay2D),t.onCollisionExit2D&&this._collisionExit2DComponentEvents.delete(t.onCollisionExit2D),t.onTriggerEnter2D&&this._triggerEnter2DComponentEvents.delete(t.onTriggerEnter2D),t.onTriggerStay2D&&this._triggerStay2DComponentEvents.delete(t.onTriggerStay2D),t.onTriggerExit2D&&this._triggerExit2DComponentEvents.delete(t.onTriggerExit2D)}},{key:"invokeOnWorldMatrixUpdated",value:function(){var e,t=xe(this._matrixUpdateComponents);try{for(t.s();!(e=t.n()).done;){e.value.onWorldMatrixUpdated()}}catch(n){t.e(n)}finally{t.f()}}},{key:"invokeOnCollisionEnter2D",value:function(e){this._collisionEnter2DComponentEvents.forEach((function(t){return t.invoke(e)}))}},{key:"invokeOnCollisionStay2D",value:function(e){this._collisionStay2DComponentEvents.forEach((function(t){return t.invoke(e)}))}},{key:"invokeOnCollisionExit2D",value:function(e){this._collisionExit2DComponentEvents.forEach((function(t){return t.invoke(e)}))}},{key:"invokeOnTriggerEnter2D",value:function(e){this._triggerEnter2DComponentEvents.forEach((function(t){return t.invoke(e)}))}},{key:"invokeOnTriggerStay2D",value:function(e){this._triggerStay2DComponentEvents.forEach((function(t){return t.invoke(e)}))}},{key:"invokeOnTriggerExit2D",value:function(e){this._triggerExit2DComponentEvents.forEach((function(t){return t.invoke(e)}))}}]),e}(),Oe=function(){function e(t,n){r(this,e),this._destroyed=!1,this._engineGlobalObject=t,this._instanceId=t.instantiater.generateId(),this._activeInHierarchy=!0,this._activeSelf=!0,this._initialized=!1,this.components=[],this.gameObjectEventContainer=new Me,this._transform=new ke(this,t,this.onChangeParent.bind(this)),this._transform.unsafeGetObject3D().name=n}return a(e,[{key:"addChildFromBuilder",value:function(e){this.checkGameObjectIsExist();var t=e.build(this.transform);return e.processEvent(),t}},{key:"onChangeParent",value:function(e,t){if(t&&this._engineGlobalObject!==t.gameObject._engineGlobalObject)throw new Error("can't change parent to another engine instance");var n=this.transform.gameObject;t?n._activeSelf&&n.setActiveInHierarchyWithEvent(t.gameObject._activeInHierarchy):n.setActiveInHierarchyWithEvent(n._activeSelf)}},{key:"addComponent",value:function(e){this.checkGameObjectIsExist();var t=new e(this);if((t.engine_internal_constructAfterProcess(),t.disallowMultipleComponent)&&this.getComponent(e))return console.warn("Component ".concat(e.name," already exists on GameObject ").concat(this.name)),null;for(var n=t.requiredComponents,r=0;r<n.length;r++){var i=n[r];if(!this.getComponent(i))return console.warn("Component ".concat(i.name," is required by Component ").concat(e.name," on GameObject ").concat(this.name)),null}return this.components.push(t),this.gameObjectEventContainer.registerComponent(t),this._activeInHierarchy&&t.enabled&&(t._engine_internal_componentEventContainer.tryCallAwake(),t._engine_internal_componentEventContainer.tryRegisterOnEnable(),t._engine_internal_componentEventContainer.tryRegisterStart(),t._engine_internal_componentEventContainer.tryRegisterUpdate(),this._engineGlobalObject.sceneProcessor.tryStartProcessSyncedEvent()),t}},{key:"getComponent",value:function(e){this.checkGameObjectIsExist();for(var t=this.components,n=0;n<t.length;n++){var r=t[n];if(r instanceof e)return r}return null}},{key:"getComponents",value:function(e){if(this.checkGameObjectIsExist(),!e)return this.components.slice();for(var t=this.components,n=[],r=0;r<t.length;r++){var i=t[r];i instanceof e&&n.push(i)}return n}},{key:"getComponentInChildren",value:function(e){this.checkGameObjectIsExist();var t=this.getComponent(e);if(t)return t;var n=null;return this._transform.iterateChild((function(t){var r=t.gameObject.getComponentInChildren(e);return!r||(n=r,!1)})),n}},{key:"getComponentsInChildren",value:function(e){if(this.checkGameObjectIsExist(),e){var t=this.getComponents(e);return this._transform.foreachChild((function(n){var r=n.gameObject.getComponentsInChildren(e);t.push.apply(t,v(r))})),t}var n=this.getComponents();return this._transform.foreachChild((function(e){n.push.apply(n,v(e.gameObject.getComponentsInChildren()))})),n}},{key:"foreachComponent",value:function(e,t){this.checkGameObjectIsExist();var n=this.components;if(t)for(var r=0;r<n.length;r++){var i=n[r];i instanceof t&&e(i)}else for(var a=0;a<n.length;a++)e(n[a])}},{key:"foreachComponentInChildren",value:function(e,t){this.checkGameObjectIsExist(),t?(this.foreachComponent(e,t),this._transform.foreachChild((function(n){n.gameObject.foreachComponentInChildren(e,t)}))):(this.foreachComponent(e),this._transform.foreachChild((function(t){t.gameObject.foreachComponentInChildren(e)})))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.destroyEventProcess(),this._engineGlobalObject.sceneProcessor.tryStartProcessSyncedEvent(),this._engineGlobalObject.sceneProcessor.addRemoveGameObject(this))}},{key:"destroyEventProcess",value:function(){for(var e=this.components,t=0;t<e.length;t++){var n=e[t];n._engine_internal_destroyed||(n.enabled&&this._activeInHierarchy&&(n._engine_internal_componentEventContainer.tryRegisterOnDisable(),n._engine_internal_componentEventContainer.tryUnregisterStart(),n._engine_internal_componentEventContainer.tryUnregisterUpdate()),n.stopAllCoroutines(),n._engine_internal_componentEventContainer.tryRegisterOnDestroy(),n._engine_internal_destroyed=!0)}this._transform.children.forEach((function(e){e instanceof ke&&e.gameObject.destroyEventProcess()}))}},{key:"removeFromParent",value:function(){this._transform.unsafeGetObject3D().removeFromParent()}},{key:"removeComponent",value:function(e){var t=this.components.indexOf(e);t>=0&&this.components.splice(t,1),this.gameObjectEventContainer.unregisterComponent(e)}},{key:"engine",get:function(){return this._engineGlobalObject}},{key:"activeInHierarchy",get:function(){return this._activeInHierarchy},set:function(e){var t=this;if(this._activeInHierarchy!==e){if(this._activeInHierarchy=e,this._initialized){var n=this.components;if(this._activeInHierarchy)for(var r=0;r<n.length;r++){var i=n[r];i.enabled&&(i._engine_internal_componentEventContainer.tryCallAwake(),i._engine_internal_componentEventContainer.tryRegisterOnEnable(),i._engine_internal_componentEventContainer.tryRegisterStart(),i._engine_internal_componentEventContainer.tryRegisterUpdate())}else for(var a=0;a<n.length;a++){var o=n[a];o.enabled&&(o._engine_internal_componentEventContainer.tryRegisterOnDisable(),o._engine_internal_componentEventContainer.tryUnregisterUpdate(),o.stopAllCoroutines())}}this._transform.foreachChild((function(e){var n=e.gameObject;t._activeInHierarchy?n.activeInHierarchy=n._activeSelf:n.activeInHierarchy=!1}))}}},{key:"setActiveInHierarchyWithEvent",value:function(e){this._activeInHierarchy!==e&&(this.activeInHierarchy=e,this._initialized&&this._engineGlobalObject.sceneProcessor.tryStartProcessSyncedEvent())}},{key:"activeSelf",get:function(){return this._activeSelf},set:function(e){this.checkGameObjectIsExist(),this._activeSelf!==e&&(this._activeSelf=e,this._transform.parent instanceof ke?this._transform.parent.gameObject._activeInHierarchy?this.setActiveInHierarchyWithEvent(this._activeSelf):this.setActiveInHierarchyWithEvent(!1):this.setActiveInHierarchyWithEvent(this._activeSelf))}},{key:"transform",get:function(){return this._transform}},{key:"name",get:function(){return this._transform.unsafeGetObject3D().name},set:function(e){this.checkGameObjectIsExist(),this._transform.unsafeGetObject3D().name=e}},{key:"instanceId",get:function(){return this._instanceId}},{key:"initialized",get:function(){return this._initialized}},{key:"exists",get:function(){return!this._destroyed}},{key:"checkGameObjectIsExist",value:function(){if(this._destroyed)throw new Error("GameObject "+this.name+" is destroyed")}}]),e}(),De=function(){function e(t,n,i,a,o){r(this,e),this._gameObject=new Oe(t,n);var s=this._gameObject.transform;i&&s.localPosition.copy(i),a&&s.localRotation.copy(a),o&&s.localScale.copy(o),this._children=[],this._componentInitializeFuncList=[]}return a(e,[{key:"active",value:function(e){return this._gameObject.activeSelf=e,this}},{key:"getGameObject",value:function(e){return e.ref=this._gameObject,this}},{key:"getComponent",value:function(e,t){return t.ref=this._gameObject.getComponent(e),this}},{key:"getComponents",value:function(e,t){return e.ref=t?this._gameObject.getComponents(t):this._gameObject.getComponents(),this}},{key:"getComponentInChildren",value:function(e,t){return t.ref=this._gameObject.getComponentInChildren(e),this}},{key:"getComponentsInChildren",value:function(e,t){return e.ref=t?this._gameObject.getComponentsInChildren(t):this._gameObject.getComponentsInChildren(),this}},{key:"withComponent",value:function(e,t){var n=new e(this._gameObject);if((n.engine_internal_constructAfterProcess(),n.disallowMultipleComponent)&&this._gameObject.getComponent(e))return console.warn("Component ".concat(e.name," already exists on GameObject ").concat(this._gameObject.name)),this;return this._gameObject.components.push(n),this._gameObject.gameObjectEventContainer.registerComponent(n),t&&this._componentInitializeFuncList.push((function(){return t(n)})),this}},{key:"withChild",value:function(e){return this._children.push(e),this}},{key:"checkComponentRequirements",value:function(e){for(var t=!1,n=e.components,r=0;r<n.length;r++)for(var i=n[r],a=i.requiredComponents,o=0;o<a.length;o++){var s=a[o];e.getComponent(s)||(console.warn("Component ".concat(s.name," is required by Component ").concat(i.constructor.name," on GameObject ").concat(e.name)),e.removeComponent(i),t=!0)}t&&this.checkComponentRequirements(e)}},{key:"build",value:function(e){return this.registerTransform(e),this.chackComponentRequirementsRecursive(),this.componentInitialize(),this._gameObject}},{key:"registerTransform",value:function(e){this._gameObject.transform.setParent(e,!1);for(var t=this._children,n=0;n<t.length;n++){t[n].registerTransform(this._gameObject.transform)}}},{key:"chackComponentRequirementsRecursive",value:function(){this.checkComponentRequirements(this._gameObject);for(var e=this._children,t=0;t<e.length;t++)e[t].chackComponentRequirementsRecursive()}},{key:"componentInitialize",value:function(){for(var e=this._componentInitializeFuncList,t=0;t<e.length;t++)e[t]();for(var n=this._children,r=0;r<n.length;r++)n[r].componentInitialize();this._gameObject._initialized=!0}},{key:"processEvent",value:function(){e.processEventByGroup([this],this._gameObject.engine.sceneProcessor)}}],[{key:"processEventByGroup",value:function(e,t){for(var n=[],r=0;r<e.length;r++)n.push.apply(n,v(e[r]._gameObject.getComponentsInChildren()));for(var i=0;i<n.length;i++){var a=n[i];a.gameObject.activeInHierarchy&&a.enabled&&a._engine_internal_componentEventContainer.tryCallAwake()}for(var o=0;o<n.length;o++){var s=n[o];s._engine_internal_destroyed||s.gameObject.activeInHierarchy&&s.enabled&&(s._engine_internal_componentEventContainer.tryRegisterOnEnable(),s._engine_internal_componentEventContainer.tryRegisterStart(),s._engine_internal_componentEventContainer.tryRegisterUpdate())}t.tryStartProcessSyncedEvent()}}]),e}(),ze=function(){function e(t){r(this,e),this._instanceNextId=0,this._eventInstanceNextId=0,this._engineGlobalObject=t}return a(e,[{key:"generateId",value:function(){var e=this._instanceNextId;return this._instanceNextId+=1,e}},{key:"generateEventId",value:function(){var e=this._eventInstanceNextId;return this._eventInstanceNextId+=1,e}},{key:"buildGameObject",value:function(e,t,n,r){return new De(this._engineGlobalObject,e,t,n,r)}},{key:"buildPrefab",value:function(e,t,n,r,i){return new t(this._engineGlobalObject,e,n,r,i)}}]),e}(),je=function(){function e(t,n,i,a,o,s,l,u,c,h){r(this,e),this._scene=t,this._cameraContainer=n,this._time=i,this._gameState=a,this._screen=o,this._sceneProcessor=s,this._coroutineProcessor=l,this._transformMatrixProcessor=u,this._physics2DProcessor=c,this._inputHandler=new d(h),this._instantiater=new ze(this)}return a(e,[{key:"applyGameSetting",value:function(e){this._physics2DProcessor.applyPhysicsSettings(e.physics)}},{key:"dispose",value:function(){this._inputHandler.dispose()}},{key:"scene",get:function(){return this._scene}},{key:"cameraContainer",get:function(){return this._cameraContainer}},{key:"screen",get:function(){return this._screen}},{key:"input",get:function(){return this._inputHandler}},{key:"time",get:function(){return this._time}},{key:"physics",get:function(){return this._physics2DProcessor}},{key:"gameState",get:function(){return this._gameState}},{key:"instantiater",get:function(){return this._instantiater}},{key:"sceneProcessor",get:function(){return this._sceneProcessor}},{key:"coroutineProcessor",get:function(){return this._coroutineProcessor}},{key:"transformMatrixProcessor",get:function(){return this._transformMatrixProcessor}},{key:"physics2DProcessor",get:function(){return this._physics2DProcessor}}]),e}(),Te=function(){function e(t){r(this,e),this._gameStateKind=t}return a(e,[{key:"kind",get:function(){return this._gameStateKind},set:function(e){this._gameStateKind=e}}]),e}();!function(e){e[e.WaitingForStart=0]="WaitingForStart",e[e.Initializing=1]="Initializing",e[e.Running=2]="Running",e[e.Stopped=3]="Stopped",e[e.Finalizing=4]="Finalizing",e[e.Finalized=5]="Finalized"}(Se||(Se={}));var Pe=function(){function e(){r(this,e),this._nonSyncedEvents=new we(Ce.comparator),this._syncedEvents=new we(Ce.comparator),this._processingSyncedEvent=!1,this._removeGameObjects=[],this._removeComponents=[]}return a(e,[{key:"addEventToNonSyncedCollection",value:function(e){this._nonSyncedEvents.insert(e)}},{key:"removeEventFromNonSyncedCollection",value:function(e){this._nonSyncedEvents.delete(e)}},{key:"addEventToSyncedCollection",value:function(e){this._syncedEvents.insert(e)}},{key:"startProcessNonSyncedEvent",value:function(){this._nonSyncedEvents.forEach((function(e){return e.invoke()}))}},{key:"tryStartProcessSyncedEvent",value:function(){this._processingSyncedEvent||(this._processingSyncedEvent=!0,this._syncedEvents.forEach((function(e){return e.invoke()})),this._syncedEvents.clear(),this._processingSyncedEvent=!1)}},{key:"addRemoveGameObject",value:function(e){this._removeGameObjects.push(e)}},{key:"addRemoveComponent",value:function(e){this._removeComponents.push(e)}},{key:"processRemoveObject",value:function(){for(var e=this._removeComponents,t=0;t<e.length;t++)e[t].gameObject.removeComponent(e[t]);for(var n=this._removeGameObjects,r=0;r<n.length;r++)n[r].removeFromParent()}}]),e}(),Re=function(){function e(){r(this,e),this._maximumDeltaTime=1/3,this._oldTime=0,this._time=0,this._unscaledTime=0,this._deltaTime=0,this._unscaledDeltaTime=0,this._timeScale=1}return a(e,[{key:"start",value:function(){this._oldTime=performance.now()}},{key:"update",value:function(){var e=performance.now(),t=(e-this._oldTime)/1e3;this._maximumDeltaTime<t&&(t=this._maximumDeltaTime),this._unscaledDeltaTime=t,this._unscaledTime+=t,this._deltaTime=t*this._timeScale,this._time+=this._deltaTime,this._oldTime=e}},{key:"time",get:function(){return this._time}},{key:"unscaledTime",get:function(){return this._unscaledTime}},{key:"deltaTime",get:function(){return this._deltaTime}},{key:"unscaledDeltaTime",get:function(){return this._unscaledDeltaTime}},{key:"timeScale",get:function(){return this._timeScale},set:function(e){this._timeScale=e}},{key:"maximumDeltaTime",get:function(){return this._maximumDeltaTime},set:function(e){this._maximumDeltaTime=e}}]),e}(),Be=function(){function e(t,n){r(this,e),this._width=t,this._height=n,this._onResizeDelegates=[]}return a(e,[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"resize",value:function(e,t){this._width=e,this._height=t,this._onResizeDelegates.forEach((function(n){return n(e,t)}))}},{key:"addOnResizeEventListener",value:function(e){this._onResizeDelegates.push(e)}},{key:"removeOnResizeEventListener",value:function(e){var t=this._onResizeDelegates.indexOf(e);t>=0&&this._onResizeDelegates.splice(t,1)}}]),e}(),Ne=a((function e(){r(this,e)})),Le=function(e){_(n,e);var t=C(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"instance",get:function(){return n._instance}}]),n}(Ne);Le._instance=new Le;var Fe=function(e){_(n,e);var t=C(n);function n(e){var i;return r(this,n),(i=t.call(this))._seconds=e,i}return a(n,[{key:"seconds",get:function(){return this._seconds}}]),n}(Ne),Ie=function(e){_(n,e);var t=C(n);function n(e){var i;return r(this,n),(i=t.call(this))._predicate=e,i}return a(n,[{key:"predicate",get:function(){return this._predicate}}]),n}(Ne),We=function(e){_(n,e);var t=C(n);function n(e){var i;return r(this,n),(i=t.call(this))._predicate=e,i}return a(n,[{key:"predicate",get:function(){return this._predicate}}]),n}(Ne),Ae=function(){function e(t){r(this,e),this._time=t,this._coroutines=[],this._coroutineCount=0}return a(e,[{key:"addCoroutine",value:function(e){this._coroutines.push(e),this._coroutineCount+=1}},{key:"removeCoroutine",value:function(e){var t=this._coroutines.indexOf(e);t>=0&&(this._coroutines[t]=null,this._coroutineCount-=1)}},{key:"tryCompact",value:function(){if(e._needToCompactCount<=this._coroutines.length-this._coroutineCount){for(var t=0,n=0;n<this._coroutines.length;n++){var r=this._coroutines[n];null!==r&&(this._coroutines[t]=r,t+=1)}this._coroutines.length=this._coroutineCount}}},{key:"updateAfterProcess",value:function(){for(var e=this._coroutines,t=0;t<e.length;t++){var n=e[t];null!=n&&(n.currentYieldInstructionExist?this.updateAfterProcessSingleInstruction(n):(e[t]=null,this._coroutineCount-=1))}}},{key:"updateAfterProcessSingleInstruction",value:function(e){var t=e.currentYieldInstruction;t instanceof Fe?(e.elapsedTime+=this._time.deltaTime,e.elapsedTime>=t.seconds&&(e.elapsedTime=0,e.fatchNextInstruction())):t instanceof Ie?t.predicate()&&e.fatchNextInstruction():t instanceof We?t.predicate()||e.fatchNextInstruction():null===t&&e.fatchNextInstruction()}},{key:"endFrameAfterProcess",value:function(){for(var e=this._coroutines,t=0;t<e.length;t++){var n=e[t];null!=n&&(n.currentYieldInstructionExist?this.endFrameAfterProcessSingleInstruction(n):(e[t]=null,this._coroutineCount-=1))}}},{key:"endFrameAfterProcessSingleInstruction",value:function(e){e.currentYieldInstruction instanceof Le&&e.fatchNextInstruction()}}]),e}();Ae._needToCompactCount=16;var Ue=function(){function e(){r(this,e),this._transformsNeedToUpdate=[],this._rerenderObjectsReadBuffer=new Set,this._rerenderObjectsWriteBuffer=new Set}return a(e,[{key:"switchBuffer",value:function(){var e=this._rerenderObjectsReadBuffer;this._rerenderObjectsReadBuffer=this._rerenderObjectsWriteBuffer,this._rerenderObjectsWriteBuffer=e}},{key:"enqueueTransformToUpdate",value:function(e){e.isRegisteredToProcessor||(e.isRegisteredToProcessor=!0,this._transformsNeedToUpdate.push(e))}},{key:"enqueueRenderObject",value:function(e){this._rerenderObjectsWriteBuffer.add(e)}},{key:"dequeueRenderObject",value:function(e){this._rerenderObjectsWriteBuffer.delete(e)}},{key:"flush",value:function(){this._rerenderObjectsReadBuffer.clear()}},{key:"update",value:function(){for(var e=this._transformsNeedToUpdate,t=0;t<e.length;t++){var n=e[t];n.tryUpdateWorldMatrixRecursivelyFromThisToChildren(),n.isRegisteredToProcessor=!1}return this._transformsNeedToUpdate.length=0,this.switchBuffer(),this._rerenderObjectsReadBuffer}}]),e}(),Ge=new T,Ve=new j,He=new T,qe=new B,Qe=new B,Ye=function(){function e(){r(this,e),this._width=0,this._height=0,this._widthHalf=0,this._heightHalf=0,this._cache={camera:{fov:0,style:""}};var t=document.createElement("div");t.style.overflow="hidden",this.domElement=t,this._cameraElement=document.createElement("div"),this._cameraElement.style.transformStyle="preserve-3d",this._cameraElement.style.pointerEvents="none",this.domElement.appendChild(this._cameraElement)}return a(e,[{key:"getSize",value:function(){return{width:this._width,height:this._height}}},{key:"render",value:function(e,t,n){var r,i,a=n.projectionMatrix.elements[5]*this._heightHalf;this._cache.camera.fov!==a&&(this.domElement.style.perspective=n.isPerspectiveCamera?a+"px":"",this._cache.camera.fov=a),!0===t.autoUpdate&&t.updateMatrixWorld(),null===n.parent&&n.updateMatrixWorld(),n.isOrthographicCamera?(r=-(n.right+n.left)/2,i=(n.top+n.bottom)/2):(r=1,i=1);var o=(n.isOrthographicCamera?"scale("+a+")translate("+this.epsilon(r)+"px,"+this.epsilon(i)+"px)"+this.getCameraCSSMatrix(n.matrixWorldInverse):"translateZ("+a+"px)"+this.getCameraCSSMatrix(n.matrixWorldInverse))+"translate("+this._widthHalf+"px,"+this._heightHalf+"px)";this._cache.camera.style!==o&&(this._cameraElement.style.transform=o,this._cache.camera.style=o);var s,l=xe(e);try{for(l.s();!(s=l.n()).done;){var u=s.value;this.renderObject(u,t,n)}}catch(c){l.e(c)}finally{l.f()}}},{key:"setSize",value:function(e,t){this._width=e,this._height=t,this._widthHalf=this._width/2,this._heightHalf=this._height/2,this.domElement.style.width=e+"px",this.domElement.style.height=t+"px",this._cameraElement.style.width=e+"px",this._cameraElement.style.height=t+"px"}},{key:"epsilon",value:function(e){return Math.abs(e)<1e-10?0:e}},{key:"getCameraCSSMatrix",value:function(e){var t=e.elements,n=this.epsilon;return"matrix3d("+n(t[0])+","+n(-t[1])+","+n(t[2])+","+n(t[3])+","+n(t[4])+","+n(-t[5])+","+n(t[6])+","+n(t[7])+","+n(t[8])+","+n(-t[9])+","+n(t[10])+","+n(t[11])+","+n(t[12])+","+n(-t[13])+","+n(t[14])+","+n(t[15])+")"}},{key:"getObjectCSSMatrix",value:function(e){var t=e.elements,n=this.epsilon;return"translate(-50%,-50%)"+("matrix3d("+n(t[0])+","+n(t[1])+","+n(t[2])+","+n(t[3])+","+n(-t[4])+","+n(-t[5])+","+n(-t[6])+","+n(-t[7])+","+n(t[8])+","+n(t[9])+","+n(t[10])+","+n(t[11])+","+n(t[12])+","+n(t[13])+","+n(t[14])+","+n(t[15])+")")}},{key:"renderObject",value:function(e,t,n){if(e.isCSS3DObject){var r;e.onBeforeRender(this,t,n),e.isCSS3DSprite?(qe.copy(n.matrixWorldInverse),qe.transpose(),0!==e.rotation2D&&qe.multiply(Qe.makeRotationZ(e.rotation2D)),e.matrixWorld.decompose(Ge,Ve,He),qe.setPosition(Ge),qe.scale(He),qe.elements[3]=0,qe.elements[7]=0,qe.elements[11]=0,qe.elements[15]=1,r=this.getObjectCSSMatrix(qe)):r=this.getObjectCSSMatrix(e.matrixWorld);var i=e.element;i.style.transform=r,i.style.display=e.visible?"":"none",i.parentNode!==this._cameraElement&&this._cameraElement.appendChild(i),e.onAfterRender(this,t,n)}}}]),e}(),Xe=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(this,t),this.x=e,this.y=n}return a(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:w.mark((function e(){return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}();Xe.prototype.isVector2=!0;var Ze=function(){function e(){r(this,e),this._defaultMaterial=null,this._velocityIterations=8,this._positionIterations=3,this._collisionLayerMaskConverter=null,this._world=null,this._gameObjectToBodyMap=new Map,this._loader=null,this.reuseCollisionCallbacks=!0}return a(e,[{key:"applyPhysicsSettings",value:function(e){var t;if(e.loader){this._loader=e.loader,this._world=new this._loader.World(new this._loader.Vec2(0,-9.81));var n=function(e){_(n,e);var t=C(n);function n(e){var i;return r(this,n),(i=t.call(this))._physicsProcessor=e,i._collision2DPool=new i._physicsProcessor._loader.Collision2DPool,i}return a(n,[{key:"BeginContact",value:function(e){var t=e.GetFixtureA().GetUserData(),n=e.GetFixtureB().GetUserData();if(t.isTrigger||n.isTrigger)t.gameObject.gameObjectEventContainer.invokeOnTriggerEnter2D(n),n.gameObject.gameObjectEventContainer.invokeOnTriggerEnter2D(t);else if(this._physicsProcessor.reuseCollisionCallbacks){var r=this._collision2DPool.getInstance();r.setData(e),t.gameObject.gameObjectEventContainer.invokeOnCollisionEnter2D(r),n.gameObject.gameObjectEventContainer.invokeOnCollisionEnter2D(r),this._collision2DPool.release(r)}else{var i=new this._physicsProcessor._loader.Collision2D;i.setData(e),t.gameObject.gameObjectEventContainer.invokeOnCollisionEnter2D(i),n.gameObject.gameObjectEventContainer.invokeOnCollisionEnter2D(i)}}},{key:"EndContact",value:function(e){var t=e.GetFixtureA().GetUserData(),n=e.GetFixtureB().GetUserData();if(t.isTrigger||n.isTrigger)t.gameObject.gameObjectEventContainer.invokeOnTriggerExit2D(n),n.gameObject.gameObjectEventContainer.invokeOnTriggerExit2D(t);else if(this._physicsProcessor.reuseCollisionCallbacks){var r=this._collision2DPool.getInstance();r.setData(e),t.gameObject.gameObjectEventContainer.invokeOnCollisionExit2D(r),n.gameObject.gameObjectEventContainer.invokeOnCollisionExit2D(r),this._collision2DPool.release(r)}else{var i=new this._physicsProcessor._loader.Collision2D;i.setData(e),t.gameObject.gameObjectEventContainer.invokeOnCollisionExit2D(i),n.gameObject.gameObjectEventContainer.invokeOnCollisionExit2D(i)}}},{key:"PreSolve",value:function(e,t){var n=e.GetFixtureA().GetUserData(),r=e.GetFixtureB().GetUserData();if(n.isTrigger||r.isTrigger)n.gameObject.gameObjectEventContainer.invokeOnTriggerStay2D(r),r.gameObject.gameObjectEventContainer.invokeOnTriggerStay2D(n);else if(this._physicsProcessor.reuseCollisionCallbacks){var i=this._collision2DPool.getInstance();i.setData(e),n.gameObject.gameObjectEventContainer.invokeOnCollisionStay2D(i),r.gameObject.gameObjectEventContainer.invokeOnCollisionStay2D(i),this._collision2DPool.release(i)}else{var a=new this._physicsProcessor._loader.Collision2D;a.setData(e),n.gameObject.gameObjectEventContainer.invokeOnCollisionStay2D(a),r.gameObject.gameObjectEventContainer.invokeOnCollisionStay2D(a)}}}]),n}(this._loader.ContactListener);this._world.SetContactListener(new n(this)),e.gravity&&(null===(t=this._world)||void 0===t||t.SetGravity(e.gravity)),e.defaultMaterial&&(this._defaultMaterial=e.defaultMaterial.clone()),e.velocityIterations&&(this._velocityIterations=e.velocityIterations),e.positionIterations&&(this._positionIterations=e.positionIterations),e.reuseCollisionCallbacks&&(this.reuseCollisionCallbacks=e.reuseCollisionCallbacks),e.collisionLayerMaskMatrix&&(this._collisionLayerMaskConverter=new this._loader.CollisionLayerMaskConverter(e.collisionLayerMaskMatrix))}}},{key:"update",value:function(e){if(this._world){for(var t=this._world.GetBodyList();t;){var n=t;t=t.GetNext();var r=n.GetUserData();if(r.destroyed)this._world.DestroyBody(n);else{var i=r.gameObject.transform,a=i.position,o=i.eulerAngles,s=n.GetPosition(),l=n.GetAngle();a.x===s.x&&a.y===s.y||(n.SetPosition(a),n.SetAwake(!0)),o.z!==l&&(n.SetAngle(o.z),n.SetAwake(!0))}}this._world.Step(e,this._velocityIterations,this._positionIterations);for(var u=this._world.GetBodyList();u;){var c=u;u=u.GetNext();var h=c.GetUserData();if(h.destroyed)this._world.DestroyBody(c);else{var f=h.gameObject.transform;f.position.x=c.GetPosition().x,f.position.y=c.GetPosition().y,f.eulerAngles.z=c.GetAngle()}}}}},{key:"addRigidBody",value:function(e,t,n){var r=this;if(!this._world)throw new Error("Physics2D is not loaded.");var i=this._gameObjectToBodyMap.get(e);if(i){var a=i.addRigidBody(t),o=a.body;return o.SetType(n.type),o.SetPosition(n.position),o.SetAngle(n.angle),o.SetLinearVelocity(n.linearVelocity),o.SetAngularVelocity(n.angularVelocity),o.SetLinearDamping(n.linearDamping),o.SetAngularDamping(n.angularDamping),o.SetSleepingAllowed(n.allowSleep),o.SetAwake(n.awake),o.SetFixedRotation(n.fixedRotation),o.SetBullet(n.bullet),o.SetEnabled(n.enabled),o.SetUserData(n.userData),o.SetGravityScale(n.gravityScale),a}return i=new this._loader.PhysicsObject2D(e,this._world.CreateBody(n),(function(){return r._gameObjectToBodyMap.delete(e)})),this._gameObjectToBodyMap.set(e,i),i.addRigidBody(t)}},{key:"removeRigidBody",value:function(e){var t=this._gameObjectToBodyMap.get(e);if(!t)throw new Error("PhysicsObject2D not found");t.removeRigidBody()}},{key:"createColliderDefaultBodyDef",value:function(e){var t=new this._loader.BodyDef;return t.type=this._loader.BodyType.b2_kinematicBody,t.position.x=e.transform.position.x,t.position.y=e.transform.position.y,t.angle=e.transform.eulerAngles.z,t}},{key:"addCollider",value:function(e,t,n){var r=this;if(!this._world)throw new Error("Physics2D is not loaded.");var i=this._gameObjectToBodyMap.get(e);return i||(i=new this._loader.PhysicsObject2D(e,this._world.CreateBody(this.createColliderDefaultBodyDef(e)),(function(){return r._gameObjectToBodyMap.delete(e)}))),this._gameObjectToBodyMap.set(e,i),i.addCollider(t,n)}},{key:"removeCollider",value:function(e,t,n){var r=this._gameObjectToBodyMap.get(e);if(!r)throw new Error("PhysicsObject2D not found");r.removeCollider(t,n)}},{key:"physicsLoader",get:function(){return this._loader}},{key:"gravity",get:function(){if(!this._world)throw new Error("Physics2D is not loaded.");var e=this._world.GetGravity();return new Xe(e.x,e.y)},set:function(e){if(!this._world)throw new Error("Physics2D is not loaded.");this._world.SetGravity(new this._loader.Vec2(e.x,e.y))}},{key:"defaultMaterial",get:function(){return this._defaultMaterial}},{key:"velocityIterations",get:function(){return this._velocityIterations},set:function(e){this._velocityIterations=e}},{key:"positionIterations",get:function(){return this._positionIterations},set:function(e){this._positionIterations=e}},{key:"maxLinearCorrection",get:function(){if(!this._loader)throw new Error("Physics2D is not loaded.");return this._loader.maxLinearCorrection}},{key:"maxAngularCorrection",get:function(){if(!this._loader)throw new Error("Physics2D is not loaded.");return this._loader.maxAngularCorrection}},{key:"maxTranslationSpeed",get:function(){if(!this._loader)throw new Error("Physics2D is not loaded.");return this._loader.maxTranslation}},{key:"maxRotationSpeed",get:function(){if(!this._loader)throw new Error("Physics2D is not loaded.");return this._loader.maxRotation}},{key:"baumgarteScale",get:function(){if(!this._loader)throw new Error("Physics2D is not loaded.");return this._loader.baumgarte}},{key:"baumgarteTimeOfImpactScale",get:function(){if(!this._loader)throw new Error("Physics2D is not loaded.");return this._loader.toiBaumgarte}},{key:"timeToSleep",get:function(){if(!this._loader)throw new Error("Physics2D is not loaded.");return this._loader.timeToSleep}},{key:"linearSleepTolerance",get:function(){if(!this._loader)throw new Error("Physics2D is not loaded.");return this._loader.linearSleepTolerance}},{key:"angularSleepTolerance",get:function(){if(!this._loader)throw new Error("Physics2D is not loaded.");return this._loader.angularSleepTolerance}},{key:"collisionLayerMask",get:function(){return this._collisionLayerMaskConverter}}]),e}(),$e=function(){function e(t){var n=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r(this,e),this._gameSetting=null,this._rootScene=new fe,this._gameScreen=new Be(t.clientWidth,t.clientHeight),this._container=t,this._css3DRenderer=new Ye,this._css3DRenderer.setSize(t.clientWidth,t.clientHeight),this._css3DRenderer.domElement.style.width="100%",this._css3DRenderer.domElement.style.height="100%",this._css3DRenderer.domElement.onscroll=function(){n._css3DRenderer.domElement.scrollLeft=0,n._css3DRenderer.domElement.scrollTop=0},this._cameraContainer=new f((function(e){n._css3DRenderer.domElement.style.backgroundColor="rgba("+255*e.r+","+255*e.g+","+255*e.b+","+e.a+")"})),this._time=new Re,this._gameState=new Te(Se.WaitingForStart),this._sceneProcessor=new Pe,this._coroutineProcessor=new Ae(this._time),this._transformMatrixProcessor=new Ue,this._physics2DProcessor=new Ze,this._engineGlobalObject=new je(this._rootScene,this._cameraContainer,this._time,this._gameState,this._gameScreen,this._sceneProcessor,this._coroutineProcessor,this._transformMatrixProcessor,this._physics2DProcessor,this._css3DRenderer.domElement),this._animationFrameId=null,this._isDisposed=!1,this._autoResize=i,this._resizeFrameBufferBind=this.resizeFramebuffer.bind(this),i&&window.addEventListener("resize",this._resizeFrameBufferBind),this._loopBind=this.loop.bind(this)}return a(e,[{key:"resizeFramebuffer",value:function(){var e=this._container.clientWidth,t=this._container.clientHeight;e===this._gameScreen.width&&t===this._gameScreen.height||(this._gameScreen.resize(e,t),this._css3DRenderer.setSize(e,t),this._css3DRenderer.domElement.style.width="100%",this._css3DRenderer.domElement.style.height="100%")}},{key:"run",value:function(e,t){if(this._isDisposed)throw new Error("Game is disposed.");if(this._gameState.kind!==Se.WaitingForStart)throw new Error("Game is already running.");this._gameState.kind=Se.Initializing,this._time.start();var n=new e(this._engineGlobalObject,t),r=n.run();if(this._gameSetting=n.getGameSettingObject(),this._engineGlobalObject.applyGameSetting(this._gameSetting),this._gameSetting.render.useCss3DRenderer&&this._container.appendChild(this._css3DRenderer.domElement),r.build(),!this._cameraContainer.camera)throw new Error("Camera is not exist or not active in the scene.");if(this._gameState.kind=Se.Running,this._sceneProcessor.startProcessNonSyncedEvent(),this._physics2DProcessor.update(this._time.deltaTime),this._coroutineProcessor.updateAfterProcess(),!this._cameraContainer.camera)throw new Error("Camera is not exist or not active in the scene.");this._sceneProcessor.processRemoveObject();var i=this._transformMatrixProcessor.update();this._gameSetting.render.useCss3DRenderer&&this._css3DRenderer.render(i,this._rootScene,this._cameraContainer.camera),this._transformMatrixProcessor.flush(),this._coroutineProcessor.endFrameAfterProcess(),this._animationFrameId=requestAnimationFrame(this._loopBind)}},{key:"loop",value:function(){if(this._animationFrameId=requestAnimationFrame(this._loopBind),this._time.update(),this._sceneProcessor.startProcessNonSyncedEvent(),this._physics2DProcessor.update(this._time.deltaTime),this._coroutineProcessor.tryCompact(),this._coroutineProcessor.updateAfterProcess(),!this._cameraContainer.camera)throw new Error("Camera is not exist or not active in the scene.");this._sceneProcessor.processRemoveObject();var e=this._transformMatrixProcessor.update();this._gameSetting.render.useCss3DRenderer&&this._css3DRenderer.render(e,this._rootScene,this._cameraContainer.camera),this._transformMatrixProcessor.flush(),this._coroutineProcessor.endFrameAfterProcess()}},{key:"stop",value:function(){if(this._isDisposed)throw new Error("Game is disposed.");if(this._gameState.kind!==Se.Running)throw new Error("Game is not running.");this._gameState.kind=Se.Stopped,this._animationFrameId&&cancelAnimationFrame(this._animationFrameId),this._animationFrameId=null}},{key:"resume",value:function(){if(this._isDisposed)throw new Error("Game is disposed.");if(this._gameState.kind!==Se.Stopped)throw new Error("Game is not stopped.");this._gameState.kind=Se.Running,this.loop()}},{key:"dispose",value:function(){this._isDisposed||(this._gameState.kind=Se.Finalizing,this._animationFrameId&&cancelAnimationFrame(this._animationFrameId),this._engineGlobalObject.dispose(),this._rootScene.children.slice().forEach((function(e){e instanceof ke&&e.gameObject.destroy()})),this._autoResize&&window.removeEventListener("resize",this._resizeFrameBufferBind),this._container.removeChild(this._css3DRenderer.domElement),this._isDisposed=!0,this._gameState.kind=Se.Finalized)}},{key:"inputHandler",get:function(){return this._engineGlobalObject.input}},{key:"currentGameState",get:function(){return this._gameState.kind}}]),e}(),Ke=function(e){_(n,e);var t=C(n);function n(){var e;return r(this,n),(e=t.call(this)).type="Camera",e.matrixWorldInverse=new B,e.projectionMatrix=new B,e.projectionMatrixInverse=new B,e}return a(n,[{key:"copy",value:function(e,t){return ce(g(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){ce(g(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){ce(g(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(le);Ke.prototype.isCamera=!0;var Je=function(e){_(n,e);var t=C(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return r(this,n),(e=t.call(this)).type="PerspectiveCamera",e.fov=i,e.zoom=1,e.near=o,e.far=s,e.focus=10,e.aspect=a,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return a(n,[{key:"copy",value:function(e,t){return ce(g(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*D*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*O*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*D*Math.atan(Math.tan(.5*O*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*O*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=ce(g(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(Ke);Je.prototype.isPerspectiveCamera=!0;var et=function(e){_(n,e);var t=C(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return r(this,n),(e=t.call(this)).type="OrthographicCamera",e.zoom=1,e.view=null,e.left=i,e.right=a,e.top=o,e.bottom=s,e.near=l,e.far=u,e.updateProjectionMatrix(),e}return a(n,[{key:"copy",value:function(e,t){return ce(g(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=l*this.view.offsetX)+l*this.view.width,s=(o-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=ce(g(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(Ke);et.prototype.isOrthographicCamera=!0;var tt=function(){function e(t,n,i){r(this,e),this._component=t,this._elapsedTime=0,this._coroutineIterator=n,this._currentYieldInstruction=null,this._isCurrenYieldInstructionExist=!1,this._onFinish=i}return a(e,[{key:"component",get:function(){return this._component}},{key:"elapsedTime",get:function(){return this._elapsedTime},set:function(e){this._elapsedTime=e}},{key:"currentYieldInstruction",get:function(){return this._currentYieldInstruction}},{key:"currentYieldInstructionExist",get:function(){return this._isCurrenYieldInstructionExist}},{key:"fatchNextInstruction",value:function(){var e,t=this._coroutineIterator.next();return t.done?(this._currentYieldInstruction=null,this._isCurrenYieldInstructionExist=!1,null===(e=this._onFinish)||void 0===e||e.call(this),this._onFinish=null,null):(this._currentYieldInstruction=t.value,this._isCurrenYieldInstructionExist=!0,this._currentYieldInstruction)}}]),e}(),nt=a((function e(){r(this,e),this.awakeCalled=!1,this.startRegistered=!1,this.startCalled=!1,this.updateRegistered=!1,this.enabled=!1}));var rt,it=function(){function e(t){var n=this;r(this,e),this._awake=null,this._onDestroy=null,this._onCollisionEnter2D=null,this._onCollisionStay2D=null,this._onCollisionExit2D=null,this._onTriggerEnter2D=null,this._onTriggerStay2D=null,this._onTriggerExit2D=null,this._start=null,this._update=null,this._component=t,this._sceneProcessor=t.engine.sceneProcessor,this._instantiater=t.engine.instantiater,this._eventState=new nt,function(e){return void 0!==e.awake}(t)&&(this._awake=Ce.createAwakeEvent(this._instantiater,t.awake.bind(t))),function(e){return void 0!==e.onDestroy}(t)&&(this._onDestroy=Ce.createOnDestroyEvent(this._instantiater,t.onDestroy.bind(t),t.executionOrder)),function(e){return void 0!==e.onCollisionEnter2D}(t)&&(this._onCollisionEnter2D=Ce.createOnCollisionEnter2DEvent(this._instantiater,(function(e){return t.onCollisionEnter2D(e)}),t.executionOrder)),function(e){return void 0!==e.onCollisionStay2D}(t)&&(this._onCollisionStay2D=Ce.createOnCollisionStay2DEvent(this._instantiater,(function(e){return t.onCollisionStay2D(e)}),t.executionOrder)),function(e){return void 0!==e.onCollisionExit2D}(t)&&(this._onCollisionExit2D=Ce.createOnCollisionExit2DEvent(this._instantiater,(function(e){return t.onCollisionExit2D(e)}),t.executionOrder)),function(e){return void 0!==e.onTriggerEnter2D}(t)&&(this._onTriggerEnter2D=Ce.createOnTriggerEnter2DEvent(this._instantiater,(function(e){return t.onTriggerEnter2D(e)}),t.executionOrder)),function(e){return void 0!==e.onTriggerStay2D}(t)&&(this._onTriggerStay2D=Ce.createOnTriggerStay2DEvent(this._instantiater,(function(e){return t.onTriggerStay2D(e)}),t.executionOrder)),function(e){return void 0!==e.onTriggerExit2D}(t)&&(this._onTriggerExit2D=Ce.createOnTriggerExit2DEvent(this._instantiater,(function(e){return t.onTriggerExit2D(e)}),t.executionOrder)),function(e){return void 0!==e.start}(t)&&(this._start=Ce.createStartEvent(this._instantiater,(function(){n._eventState.startCalled=!0,t.start(),n._eventState.startRegistered&&n._sceneProcessor.removeEventFromNonSyncedCollection(n._start)}),t.executionOrder)),function(e){return void 0!==e.update}(t)&&(this._update=Ce.createUpdateEvent(this._instantiater,t.update.bind(t),t.executionOrder))}return a(e,[{key:"tryCallAwake",value:function(){var e;this._eventState.awakeCalled||(this._eventState.awakeCalled=!0,null===(e=this._awake)||void 0===e||e.invoke())}},{key:"tryRegisterOnEnable",value:function(){if(void 0!==this._component.onEnable&&(!this._component._engine_internal_destroyed&&!this._eventState.enabled)){this._eventState.enabled=!0;var e=Ce.createOnEnableEvent(this._instantiater,this._component.onEnable.bind(this._component),this._component.executionOrder);this._sceneProcessor.addEventToSyncedCollection(e)}}},{key:"tryRegisterOnDisable",value:function(){if(void 0!==this._component.onDisable&&(!this._component._engine_internal_destroyed&&this._eventState.enabled)){this._eventState.enabled=!1;var e=Ce.createOnDisableEvent(this._instantiater,this._component.onDisable.bind(this._component),this._component.executionOrder);this._sceneProcessor.addEventToSyncedCollection(e)}}},{key:"tryRegisterOnDestroy",value:function(){this._onDestroy&&this._sceneProcessor.addEventToSyncedCollection(this._onDestroy)}},{key:"tryRegisterStart",value:function(){this._start&&(this._component._engine_internal_destroyed||this._eventState.startCalled||this._eventState.startRegistered||(this._eventState.startRegistered=!0,this._sceneProcessor.addEventToNonSyncedCollection(this._start)))}},{key:"tryUnregisterStart",value:function(){this._start&&this._eventState.startRegistered&&!this._eventState.startCalled&&(this._eventState.startRegistered=!1,this._sceneProcessor.removeEventFromNonSyncedCollection(this._start))}},{key:"tryRegisterUpdate",value:function(){this._update&&(this._component._engine_internal_destroyed||this._eventState.updateRegistered||(this._eventState.updateRegistered=!0,this._sceneProcessor.addEventToNonSyncedCollection(this._update)))}},{key:"tryUnregisterUpdate",value:function(){this._update&&this._eventState.updateRegistered&&(this._eventState.updateRegistered=!1,this._sceneProcessor.removeEventFromNonSyncedCollection(this._update))}},{key:"onCollisionEnter2D",get:function(){return this._onCollisionEnter2D}},{key:"onCollisionStay2D",get:function(){return this._onCollisionStay2D}},{key:"onCollisionExit2D",get:function(){return this._onCollisionExit2D}},{key:"onTriggerEnter2D",get:function(){return this._onTriggerEnter2D}},{key:"onTriggerStay2D",get:function(){return this._onTriggerStay2D}},{key:"onTriggerExit2D",get:function(){return this._onTriggerExit2D}}]),e}(),at=function(){function e(t){r(this,e),this.disallowMultipleComponent=!1,this.requiredComponents=[],this.executionOrder=0,this._runningCoroutines=[],this._engine_internal_destroyed=!1,this._enabled=!0,this._gameObject=t,this._instanceId=t.engine.instantiater.generateId(),this._engine_internal_componentEventContainer=new it(this)}return a(e,[{key:"engine_internal_constructAfterProcess",value:function(){Object.defineProperties(this,{disallowMultipleComponent:{configurable:!1,writable:!1},requiredComponents:{configurable:!1,writable:!1},executionOrder:{configurable:!1,writable:!1}})}},{key:"startCorutine",value:function(e){var t=this;this.checkComponentIsExist();var n=new tt(this,e,(function(){var e=t._runningCoroutines.indexOf(n);e>=0&&t._runningCoroutines.splice(e,1)}));return this._runningCoroutines.push(n),n.fatchNextInstruction(),this.engine.coroutineProcessor.addCoroutine(n),n}},{key:"stopAllCoroutines",value:function(){var e=this;this.checkComponentIsExist(),this._runningCoroutines.forEach((function(t){e.stopCoroutine(t)})),this._runningCoroutines.length=0}},{key:"stopCoroutine",value:function(e){if(this.checkComponentIsExist(),e.component!==this)throw new Error("Coroutine is not owned by this component");this.engine.coroutineProcessor.removeCoroutine(e);var t=this._runningCoroutines.indexOf(e);t>=0&&this._runningCoroutines.splice(t,1)}},{key:"enabled",get:function(){return this._enabled},set:function(e){this.checkComponentIsExist(),this._enabled!==e&&(this._enabled=e,this._gameObject.initialized&&this._gameObject.activeInHierarchy&&(this._enabled?(this._engine_internal_componentEventContainer.tryRegisterOnEnable(),this._engine_internal_componentEventContainer.tryRegisterStart(),this._engine_internal_componentEventContainer.tryRegisterUpdate(),this.engine.sceneProcessor.tryStartProcessSyncedEvent()):(this._engine_internal_componentEventContainer.tryRegisterOnDisable(),this._engine_internal_componentEventContainer.tryUnregisterStart(),this._engine_internal_componentEventContainer.tryUnregisterUpdate(),this.engine.sceneProcessor.tryStartProcessSyncedEvent())))}},{key:"checkComponentIsExist",value:function(){if(this._engine_internal_destroyed)throw new Error("Component "+this.constructor.name+" is destroyed")}},{key:"gameObject",get:function(){return this._gameObject}},{key:"transform",get:function(){return this._gameObject.transform}},{key:"engine",get:function(){return this._gameObject.engine}},{key:"instanceId",get:function(){return this._instanceId}},{key:"initialized",get:function(){return this._gameObject.initialized}},{key:"exists",get:function(){return!this._engine_internal_destroyed}},{key:"destroy",value:function(){this._engine_internal_destroyed||(this.enabled&&this.gameObject.activeInHierarchy&&(this._engine_internal_componentEventContainer.tryRegisterOnDisable(),this._engine_internal_componentEventContainer.tryUnregisterStart(),this._engine_internal_componentEventContainer.tryUnregisterUpdate()),this.stopAllCoroutines(),this._engine_internal_componentEventContainer.tryRegisterOnDestroy(),this._engine_internal_destroyed=!0,this.engine.sceneProcessor.tryStartProcessSyncedEvent(),this.engine.sceneProcessor.addRemoveComponent(this))}}]),e}(),ot=function(){function e(t,n){r(this,e),this._priority=t,this._backgroundColor=n}return a(e,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority=e}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e}}]),e}(),st=function(){function e(t,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;r(this,e),this._r=t,this._g=n,this._b=i,this._a=a}return a(e,[{key:"r",get:function(){return this._r}},{key:"g",get:function(){return this._g}},{key:"b",get:function(){return this._b}},{key:"a",get:function(){return this._a}},{key:"toString",value:function(){return"rgba("+this._r+", "+this._g+", "+this._b+", "+this._a+")"}},{key:"toHex",value:function(){return"#"+((Math.round(255*this._r)<<16)+(Math.round(255*this._g)<<8)+(Math.round(255*this._b)<<0)).toString(16).padStart(6,"0")}},{key:"toHexWithAlpha",value:function(){return"#"+((Math.round(255*this._r)<<16)+(Math.round(255*this._g)<<8)+(Math.round(255*this._b)<<0)).toString(16).padStart(6,"0")+Math.round(255*this._a).toString(16).padStart(2,"0")}},{key:"toArray",value:function(){return[this._r,this._g,this._b,this._a]}}],[{key:"fromHex",value:function(t){return new e(parseInt(t.slice(1,3),16)/255,parseInt(t.slice(3,5),16)/255,parseInt(t.slice(5,7),16)/255)}},{key:"fromArray",value:function(t){return new e(t[0],t[1],t[2],t[3])}},{key:"fromString",value:function(t){var n=t.match(/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d*(?:\.\d+)?)\)$/);return n?new e(parseInt(n[1]),parseInt(n[2]),parseInt(n[3]),parseFloat(n[4])):e.fromHex(t)}}]),e}();!function(e){e[e.Perspective=0]="Perspective",e[e.Orthographic=1]="Orthographic"}(rt||(rt={}));var lt,ut=function(e){_(n,e);var t=C(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments))._camera=null,e._cameraType=rt.Orthographic,e._fov=75,e._viewSize=5,e._near=.1,e._far=1e3,e._priority=0,e._backgroudColor=new st(1,1,1,0),e._onScreenResizeBind=e.onScreenResize.bind(k(e)),e}return a(n,[{key:"onEnable",value:function(){this.engine.screen.addOnResizeEventListener(this._onScreenResizeBind),this.createOrUpdateCamera()}},{key:"onWorldMatrixUpdated",value:function(){this._camera&&(ke.updateRawObject3DWorldMatrixRecursively(this._camera),this._camera.matrixWorldInverse.copy(this._camera.matrixWorld).invert())}},{key:"createOrUpdateCamera",value:function(){var e=this.engine.screen.width/this.engine.screen.height;if(this._cameraType===rt.Perspective)this._camera?this._camera instanceof Je?(this._camera.aspect=e,this._camera.fov=this._fov,this._camera.near=this._near,this._camera.far=this._far,this._camera.updateProjectionMatrix()):(this._camera.removeFromParent(),this._camera=this.createNewPerspectiveCamera(),this.transform.unsafeGetObject3D().add(this._camera)):(this._camera=this.createNewPerspectiveCamera(),this.transform.unsafeGetObject3D().add(this._camera));else{if(this._cameraType!==rt.Orthographic)throw new Error("Camera type not supported");if(this._camera)if(this._camera instanceof et){var t=this._viewSize;this._camera.left=-t*e,this._camera.right=t*e,this._camera.top=t,this._camera.bottom=-t,this._camera.near=this._near,this._camera.far=this._far,this._camera.updateProjectionMatrix()}else this._camera.removeFromParent(),this._camera=this.createNewOrthographicCamera(),this.transform.unsafeGetObject3D().add(this._camera);else this._camera=this.createNewOrthographicCamera(),this.transform.unsafeGetObject3D().add(this._camera)}ke.updateRawObject3DWorldMatrixRecursively(this._camera),this.engine.cameraContainer.addCamera(this._camera,new ot(this._priority,this._backgroudColor))}},{key:"createNewPerspectiveCamera",value:function(){var e=this.engine.screen.width/this.engine.screen.height;return new Je(this._fov,e,this._near,this._far)}},{key:"createNewOrthographicCamera",value:function(){var e=this.engine.screen.width/this.engine.screen.height,t=this._viewSize;return new et(-t*e,t*e,t,-t,this._near,this._far)}},{key:"onDisable",value:function(){this.engine.screen.removeOnResizeEventListener(this._onScreenResizeBind),this._camera&&this.engine.cameraContainer.removeCamera(this._camera)}},{key:"onDestroy",value:function(){var e;null===(e=this._camera)||void 0===e||e.removeFromParent()}},{key:"onScreenResize",value:function(e,t){var n=e/t;if(this._camera instanceof Je)this._camera.aspect=n,this._camera.updateProjectionMatrix();else if(this._camera instanceof et){var r=this._viewSize;this._camera.left=-r*n,this._camera.right=r*n,this._camera.top=r,this._camera.bottom=-r,this._camera.updateProjectionMatrix()}}},{key:"cameraType",get:function(){return this._cameraType},set:function(e){this._cameraType!==e&&(this._cameraType=e,this._camera&&this.createOrUpdateCamera())}},{key:"fov",get:function(){return this._fov},set:function(e){this._fov!==e&&(this._fov=e,this._camera instanceof Je&&(this._camera.fov=e,this._camera.updateProjectionMatrix()))}},{key:"viewSize",get:function(){return this._viewSize},set:function(e){if(this._viewSize!==e&&(this._viewSize=e,this._camera instanceof et)){var t=this.engine.screen.width/this.engine.screen.height,n=this._viewSize;this._camera.left=-n*t,this._camera.right=n*t,this._camera.top=n,this._camera.bottom=-n,this._camera.updateProjectionMatrix()}}},{key:"near",get:function(){return this._near},set:function(e){this._near!==e&&(this._near=e,this._camera instanceof Je&&(this._camera.near=e,this._camera.updateProjectionMatrix()))}},{key:"far",get:function(){return this._far},set:function(e){this._far!==e&&(this._far=e,this._camera instanceof Je&&(this._camera.far=e,this._camera.updateProjectionMatrix()))}},{key:"priority",get:function(){return this._priority},set:function(e){this._priority=e,this._camera&&this.engine.cameraContainer.changeCameraPriority(this._camera,e)}},{key:"backgroundColor",get:function(){return this._backgroudColor},set:function(e){this._backgroudColor=e,this._camera&&this.engine.cameraContainer.changeCameraBackgroundColor(this._camera,e)}}]),n}(at),ct="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAA8SURBVDhP7dEhCgAxDADB+/k9Lh8rDCtq6yo6JrAhKt9s/k2JEjceNGlPiRI3HjRpT4kS7w81SpQ4PJhZxl3jEH3ZDWcAAAAASUVORK5CYII=",ht=function(e){_(n,e);var t=C(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("div");return r(this,n),(e=t.call(this)).isCSS3DObject=!0,e.element=i,e.element.style.position="absolute",e.element.style.pointerEvents="auto",e.element.style.userSelect="none",e.element.setAttribute("draggable","false"),e.addEventListener("removed",(function(){e.traverse((function(e){e instanceof n&&e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)}))})),e}return a(n,[{key:"copy",value:function(e,t){return ce(g(n.prototype),"copy",this).call(this,e,t),this.element=e.element.cloneNode(!0),this}}]),n}(le),ft=(new T,new j,new T,new B,new B,function(e){_(n,e);var t=C(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n)}(at)),dt=function(e){_(n,e);var t=C(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).disallowMultipleComponent=!0,e._runOnce=!0,e}return a(n,[{key:"start",value:function(){this.process(),this.runOnce&&(this.enabled=!1)}},{key:"update",value:function(){this.process()}},{key:"process",value:function(){this.gameObject.getComponentsInChildren().forEach((function(e){var t=e;t.onSortByZaxis&&"function"===typeof t.onSortByZaxis&&t.onSortByZaxis(e.transform.position.z)}))}},{key:"runOnce",get:function(){return this._runOnce},set:function(e){this._runOnce=e}}],[{key:"checkAncestorZaxisInitializer",value:function(e,t){if(e.transform.parent)for(var r=e.transform.parent;r;){if(r.gameObject.getComponent(n))return void t(r.position.z);if(null===r.parent)break;r=r.parent}}}]),n}(ft);!function(e){e[e.LengthUnitScalar=.1]="LengthUnitScalar"}(lt||(lt={}));var pt=function(e){_(n,e);var t=C(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).css3DObject=null,e.htmlElement=null,e._centerOffset=new Xe,e._viewScale=lt.LengthUnitScalar,e._pointerEvents=!0,e._zindex=0,e._readyToDraw=!1,e}return a(n,[{key:"start",value:function(){this._readyToDraw=!0,this.renderInitialize(),dt.checkAncestorZaxisInitializer(this.gameObject,this.onSortByZaxis.bind(this))}},{key:"onDestroy",value:function(){this.css3DObject&&(this.transform.dequeueRenderAttachedObject3D(this.css3DObject),this.transform.unsafeGetObject3D().remove(this.css3DObject),this.css3DObject=null,this.htmlElement=null)}},{key:"onEnable",value:function(){this.css3DObject&&(this.css3DObject.visible=!0,this.transform.enqueueRenderAttachedObject3D(this.css3DObject))}},{key:"onDisable",value:function(){this.css3DObject&&(this.css3DObject.visible=!1,this.transform.enqueueRenderAttachedObject3D(this.css3DObject))}},{key:"onSortByZaxis",value:function(e){this._zindex=e/lt.LengthUnitScalar,this.css3DObject&&(this.css3DObject.element.style.zIndex=Math.floor(this._zindex).toString())}},{key:"onWorldMatrixUpdated",value:function(){this.css3DObject&&(ke.updateRawObject3DWorldMatrixRecursively(this.css3DObject),this.transform.enqueueRenderAttachedObject3D(this.css3DObject))}},{key:"renderInitialize",value:function(){throw new Error("Yon can't Use CssRenderer Directly, use Derived Class e.g. CssSpriteRenderer")}},{key:"initializeBaseComponents",value:function(e){if(!this.htmlElement)throw new Error("htmlElement is null");var t=!1;return e?(this.css3DObject&&this.transform.unsafeGetObject3D().remove(this.css3DObject),this.css3DObject=new ht(this.htmlElement),t=!0):this.css3DObject?this.css3DObject.element=this.htmlElement:(this.css3DObject=new ht(this.htmlElement),t=!0),t&&(this.htmlElement.style.pointerEvents=this.pointerEvents?"auto":"none",this.htmlElement.style.zIndex=Math.floor(this._zindex).toString(),this.enabled&&this.gameObject.activeInHierarchy?this.css3DObject.visible=!0:this.css3DObject.visible=!1),this.updateViewScale(!1),this.updateCenterOffset(!1),this.transform.unsafeGetObject3D().add(this.css3DObject),this.css3DObject}},{key:"updateCenterOffset",value:function(e){throw new Error("Yon can't Use CssRenderer Directly, use Derived Class e.g. CssSpriteRenderer")}},{key:"updateViewScale",value:function(e){throw new Error("Yon can't Use CssRenderer Directly, use Derived Class e.g. CssSpriteRenderer")}},{key:"centerOffset",get:function(){return this._centerOffset},set:function(e){this._centerOffset.copy(e),this.updateCenterOffset(!0)}},{key:"viewScale",get:function(){return this._viewScale},set:function(e){this._viewScale=e,this.updateViewScale(!0)}},{key:"pointerEvents",get:function(){return this._pointerEvents},set:function(e){this._pointerEvents=e,this.htmlElement&&(this.htmlElement.style.pointerEvents=e?"auto":"none")}},{key:"readyToDraw",get:function(){return this._readyToDraw}}]),n}(at),yt=function(e){_(n,e);var t=C(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments))._imageWidth=0,e._imageHeight=0,e._imageFlipX=!1,e._imageFlipY=!1,e._opacity=1,e._initializeFunction=null,e}return a(n,[{key:"renderInitialize",value:function(){var e;null===(e=this._initializeFunction)||void 0===e||e.call(this),this.htmlElement||this.asyncSetImagePath(ct)}},{key:"updateCenterOffset",value:function(e){this.css3DObject&&(this.css3DObject.position.set(this._imageWidth*this.centerOffset.x,this._imageHeight*this.centerOffset.y,0),e&&(ke.updateRawObject3DWorldMatrixRecursively(this.css3DObject),this.transform.enqueueRenderAttachedObject3D(this.css3DObject)))}},{key:"updateViewScale",value:function(e){if(this.css3DObject){var t=this.viewScale,n=this.htmlElement;n.style.width=this._imageWidth/this.viewScale+"px",n.style.height=this._imageHeight/this.viewScale+"px";var r=this._imageFlipX?-1:1,i=this._imageFlipY?-1:1;this.css3DObject.scale.set(t*r,t*i,t),e&&(ke.updateRawObject3DWorldMatrixRecursively(this.css3DObject),this.transform.enqueueRenderAttachedObject3D(this.css3DObject))}}},{key:"imagePath",get:function(){var e;return(null===(e=this.htmlElement)||void 0===e?void 0:e.src)||null}},{key:"asyncSetImagePath",value:function(e,t){var n=this;if(this.readyToDraw){this.htmlElement||(this.htmlElement=new Image),this.htmlElement.src=e;this.htmlElement.addEventListener("load",(function e(r){var i=r.target;i.removeEventListener("load",e),i.alt=n.gameObject.name+"_sprite_atlas",i.style.imageRendering="pixelated",0===n._imageWidth&&(n._imageWidth=i.naturalWidth*lt.LengthUnitScalar),0===n._imageHeight&&(n._imageHeight=i.naturalHeight*lt.LengthUnitScalar),i.style.width=n._imageWidth/n.viewScale+"px",i.style.height=n._imageHeight/n.viewScale+"px",i.style.opacity=n._opacity.toString();var a=n.initializeBaseComponents(!1);ke.updateRawObject3DWorldMatrixRecursively(a),n.transform.enqueueRenderAttachedObject3D(a),null===t||void 0===t||t()}))}else this._initializeFunction=function(){return n.asyncSetImagePath(e,t)}}},{key:"imageWidth",get:function(){return this._imageWidth},set:function(e){this._imageWidth=e,this.htmlElement&&(this.htmlElement.style.width=e/this.viewScale+"px"),this.updateCenterOffset(!0)}},{key:"imageHeight",get:function(){return this._imageHeight},set:function(e){this._imageHeight=e,this.htmlElement&&(this.htmlElement.style.height=e/this.viewScale+"px"),this.updateCenterOffset(!0)}},{key:"imageFlipX",get:function(){return this._imageFlipX},set:function(e){this._imageFlipX=e,this.css3DObject&&(this._imageFlipX?0<this.css3DObject.scale.x&&(this.css3DObject.scale.x*=-1):this.css3DObject.scale.x<0&&(this.css3DObject.scale.x*=-1),ke.updateRawObject3DWorldMatrixRecursively(this.css3DObject),this.transform.enqueueRenderAttachedObject3D(this.css3DObject))}},{key:"imageFlipY",get:function(){return this._imageFlipY},set:function(e){this._imageFlipY=e,this.css3DObject&&(this._imageFlipY?0<this.css3DObject.scale.y&&(this.css3DObject.scale.y*=-1):this.css3DObject.scale.y<0&&(this.css3DObject.scale.y*=-1),ke.updateRawObject3DWorldMatrixRecursively(this.css3DObject),this.transform.enqueueRenderAttachedObject3D(this.css3DObject))}},{key:"opacity",get:function(){return this._opacity},set:function(e){this._opacity=e,this.htmlElement&&(this.htmlElement.style.opacity=this._opacity.toString())}}]),n}(pt),vt=function(){function e(t){r(this,e),this._sceneProcessor=t,this._children=[]}return a(e,[{key:"withChild",value:function(e){return this._children.push(e),this}},{key:"build",value:function(){for(var e=0;e<this._children.length;e++)this._children[e].build(null);De.processEventByGroup(this._children,this._sceneProcessor)}}]),e}(),mt=function(){function e(t){r(this,e),this._renderSettingObject=t}return a(e,[{key:"useCss3DRenderer",value:function(e){return this._renderSettingObject.useCss3DRenderer=e,this}}],[{key:"createDefaultObject",value:function(){return{useCss3DRenderer:!0}}}]),e}(),_t=function(){function e(t){r(this,e),this._physicsSettingObject=t}return a(e,[{key:"loader",value:function(e){return this._physicsSettingObject.loader=e,this}},{key:"gravity",value:function(e){return this._physicsSettingObject.gravity=e,this}},{key:"defaultMaterial",value:function(e){return this._physicsSettingObject.defaultMaterial=e,this}},{key:"velocityIterations",value:function(e){return this._physicsSettingObject.velocityIterations=e,this}},{key:"positionIterations",value:function(e){return this._physicsSettingObject.positionIterations=e,this}},{key:"reuseCollisionCallbacks",value:function(e){return this._physicsSettingObject.reuseCollisionCallbacks=e,this}},{key:"layerCollisionMatrix",value:function(e){this._physicsSettingObject.collisionLayerMaskMatrix=e}}],[{key:"createDefaultObject",value:function(){return{}}}]),e}(),gt=function(){function e(t){r(this,e),this._gameSettingObject=t,this._renderSetting=new mt(this._gameSettingObject.render),this._physicsSetting=new _t(this._gameSettingObject.physics)}return a(e,[{key:"render",get:function(){return this._renderSetting}},{key:"physics",get:function(){return this._physicsSetting}},{key:"make",value:function(){return this._gameSettingObject}}],[{key:"createDefaultObject",value:function(){return{render:mt.createDefaultObject(),physics:_t.createDefaultObject()}}}]),e}(),bt=function(){function e(t,n){r(this,e),this._instantiater=t.instantiater,this._interopObject=n||null,this._sceneBuilder=new vt(t.sceneProcessor),this._gameSetting=new gt(gt.createDefaultObject())}return a(e,[{key:"getGameSettingObject",value:function(){return Object.freeze(this._gameSetting),this._gameSetting.make()}},{key:"instantiater",get:function(){return this._instantiater}},{key:"interopObject",get:function(){return this._interopObject}},{key:"sceneBuilder",get:function(){return this._sceneBuilder}},{key:"setting",get:function(){return this._gameSetting}}]),e}(),kt=function(e){_(n,e);var t=C(n);function n(){var e;r(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a)))._accumulatedTime=0,e}return a(n,[{key:"update",value:function(){this._accumulatedTime+=this.engine.time.deltaTime,this.transform.position.x=3*Math.sin(this._accumulatedTime),this.transform.position.y=3*Math.cos(this._accumulatedTime)}}]),n}(at),xt=function(e){_(n,e);var t=C(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"run",value:function(){var e=this.instantiater;return this.sceneBuilder.withChild(e.buildGameObject("camera",new T(0,0,10)).withComponent(ut,(function(e){e.viewSize=5}))).withChild(e.buildGameObject("test_object").withComponent(yt).withComponent(kt))}}]),n}(bt),Ct=n(184);var wt=function(){var t=(0,e.useRef)(null);return(0,e.useEffect)((function(){if(!t.current)throw new Error("unreachable");var e=new $e(t.current);return e.run(xt),e.inputHandler.startHandleEvents(),function(){e.dispose()}}),[]),(0,Ct.jsx)("div",{className:"App",ref:t})};t.render((0,Ct.jsx)(e.StrictMode,{children:(0,Ct.jsx)(wt,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.e5e4f967.js.map